---
publish: true
tags: []
aliases: 
finished: true
title: 题23
created: "2024-12-02 18:48"
updated: "2024-12-04 07:47"
---
## 题23
### 题目
【2018】请根据题 44 图给出的虚拟存储管理方式，回答下列问题。
![](https://img.hwenyi.live/202412030252961.webp)
(1) 某虚拟地址对应的页目录号为 6，在相应的页表中对应的页号为 6，页内偏移量为 8，该虚拟地址的十六进制表示是什么？
(2) 寄存器 PDBR 用于保存当前进程的页目录起始地址，该地址是物理地址还是虚拟地址？进程切换时，PDBR 的内容是否会变化？说明理由。同一进程的线程切换时，PDBR 的内容是否会变化？说明理由。
(3) 为了支持改进型 CLOCK 置换算法，需要在页表项中设置哪些字段？
### 分析
![](https://img.hwenyi.live/202412041534388.webp)
### 解
[[刷题/408历年真题解析/2018年408真题操作系统篇/题45]]
1) 由图可知, 地址总长度为 32 位, 高 20 位为虚页号, 低 12 位为页内地址, 且虚页号高 10 位为页目录号, 低 10 位为页号。展开成二进制表示为
![](https://img.hwenyi.live/202408081839920.webp)
因此十六进制表示为 ${01806008}H$ 。
2) PDBR 为页目录基址地址[[寄存器]] (Page-Directory Base Register), 其存储页目录表物理内存基地址。进程切换时, PDBR 的内容会变化; 同一进程的[[线程]]切换时, PDBR 的内容不会变化。每个[[进程]]的[[地址空间]]、页目录和 PDBR 的内容存在一一对应的关系。进程切换时, 地址空间发生了变化, 对应的页目录及其始址也相应变化, 因此需要用进程切换后当前进程的页目录始址刷新 PDBR。同一进程中的线程共享该进程的地址空间, 其线程发生切换时, 地址空间不变, 线程使用的页目录不变, 因此 PDBR 的内容也不变。
3) 改进型 [[CLOCK 置换]]算法需要用到**使用位和修改位**, 所以需要设置**访问**字段 (**使用**位) 和**修改**字段 (**脏位**)。
