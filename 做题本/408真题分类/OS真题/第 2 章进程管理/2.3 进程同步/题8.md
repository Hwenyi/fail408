---
publish: true
tags:
  - 做错了
  - 重点题
  - 真题
  - 题目/选择题
  - 操作系统
  - 进程
  - 管程
  - 信号量
  - 互斥
  - 阻塞
aliases: 
finished: true
TARGET DECK: 刷题::408真题分类::OS真题::第 2 章进程管理::2.3 进程同步::题8
error: true
title: 题8
created: 2024-11-02 07:00
updated: 2024-11-05 02:29
---
## 题8
### 题目
> [!error]+
> Q:【2018】若 `x` 是管程内的条件变量,则当进程执行 `x.wait()` 时所做的工作是()。
> A. 实现对变量 `x` 的互斥访问
> B. 唤醒一个在 `x` 上阻塞的进程
> C. 根据 `x` 的值判断该进程是否进入阻塞状态
> D. 阻塞该进程,并将之插入 `x` 的阻塞队列中
### 分析
> [!NOTE]+
> A:我的**错误理解**：[[管程]]内的变量，只允许同一时间，只有一个进程在访问，~~wait操作是释放资源的意思，既然释放了，那么就可以让一个需要使用、被阻塞住的进程被唤醒来使用x~~，离谱！wait是在减少资源，我在想什么
> 我觉得，应该把[[管程]]的条件变量理解为资源数为1的一个[[信号量]]，因为它只允许同一时间内只有一个进程访问它，这和wait操作[[原语]]，当`s<=0`的时候就进入阻塞队列，进行阻塞等待的感觉是相同的
> 
> 我们再看一遍这个题目来理解wait：[[刷题/408历年真题解析/2021年408真题操作系统篇/题45]]，[[刷题/408真题分类/OS真题/第 2 章进程管理/2.3 进程同步/题19]]，wait等待资源s可用，既然是等待除了cpu的资源，就是阻塞了
### 解
> [!done]+
> 【参考答案】D
> 【解析】[[管程]]由代表[[共享资源]]的数据结构以及对该共享数据结构实施操作的一组过程所组成，**条件变量**是管程内包含的**一种全局数据结构**。x.wait()操作与变量x的[[互斥]]访问无关，A错误；`x.signal()`用于**唤醒**一个在x上**阻塞**的[[进程]]，B错误；当进程执行wait()时，将自己插入x条件变量的**阻塞队列**中，并释放管程，直到另一个进程向条件变量执行了signal()操作，C错误，D正确。故本题选D
<!--ID: 1731146756282-->