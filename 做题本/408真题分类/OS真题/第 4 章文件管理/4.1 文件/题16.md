---
publish: true
tags: []
aliases: 
finished: true
title: 题16
created: 2024-11-05 23:11
updated: 2024-11-08 10:19
---
## 题16
### 题目
【2011 统考真题】某文件系统为一级目录结构, 文件的数据一次性写入磁盘, 已写入的文件不可修改, 但是可多次创建新文件。请回答如下问题。
1. 在连续、链式、索引三种文件的数据块组织方式中, 哪种更合适? 说明理由。为定位文件数据块, 需要在 FCB 中设计哪些相关描述字段?
2. 为快速找到文件, 对于 FCB, 是集中存储好,还是与对应的文件数据块连续存储好? 说明理由。
### 分析
不可修改，说明没有对文件动态扩容的需求，所以我们直接选择连续分配的方式来组织数据块
因为连续存储是类似于数组的，所以我们需要索引下标和数据的的长度来定位文件，所以，需要起始块和长度这两个字段
~~我觉集中存储更好，因为我们为了快，集中存储，可以利用空间上的局部性，保证快速访问，减少访存次数~~
核心想法应该是：查找文件是通过文件名来查找的，文件名放在[[文件控制块]]里面，利用空间局部性，可以连续访问这些文件名，就实现了快速查找
![](https://img.hwenyi.live/202411081819776.webp)
### 解
【参考答案】
（1）连续结构更合适。因为文件的数据是一次性写入的，不需要修改，连续结构更方便顺序访问，效率更高，且节省了其他不必要的空间开销。为定位文件数据块，需要在FCB中加入 `<起始块号，块数>` 或 `<起始块号，结束块号>`：
（2）FCB集中存储好。由于查找文件是按文件名进行查找，FCB集中存放使得查找只需访问FCB对应的块，可减少磁头移动和磁盘I/O访问次数，加快查找速率。