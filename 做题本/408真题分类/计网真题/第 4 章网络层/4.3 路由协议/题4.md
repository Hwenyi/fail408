---
publish: true
tags: 
aliases: 
finished: true
title: 题4
created: "2024-11-20 06:44"
updated: "2024-11-23 10:54"
---
## 题4
### 题目
【2013】假设 Internet 的两个自治系统构成的网络如题 47 图所示，自治系统 AS1 由路由器 R1 连接两个子网构成；自治系统 AS2 由路由器 R2、R3 互联并连接 3 个子网构成。各子网地址、R2 的接口名、R1 与 R3 的部分接口 IP 地址如题 47 图所示。

![](https://img.hwenyi.live/202411231538398.webp)

请回答下列问题。

(1) 假设路由表结构如下表所示。

$\begin{array}{|c|}\hline 目的网络 &下一跳 &接口\\\hline \end{array}$

请利用路由聚合技术，给出 R2 的路由表，要求包括到达题 47 图中所有子网的路由，且路由表中的路由项尽可能少。

(2) 若 R2 收到一个目的 IP 地址为 194.17.20.200 的 IP 分组，R2 会通过哪个接口转发该 IP 分组？

(3) R1 与 R2 之间利用哪个路由协议交换路由信息？该路由协议的报文被封装到哪个协议的分组中进行传输？
### 分析
[[刷题/25计网-王道/第 4 章 网络层/综合题/题4]]
1) 要求 R2 的路由表能到达图中的所有子网, 且路由项尽可能少, 则应对每个路由接口的子网进行聚合。在 AS1 中, 子网 153.14.5.0/25 和子网 153.14.5.128/25 可聚合为子网 153.14.5.0/24. 在 AS2 中, 子网 194.17.20.0/25 和子网 194.17.21.0/24 可聚合为子网 194.17.20.0/23; 子网 194.17.20.128/25 单独连接到 R2 的接口 E0。

于是可以得到 $R2$ 的路由表如下:

<table><tr><td>目的网络</td><td>下一跳</td><td>接口</td></tr><tr><td>153,14.5.0/24</td><td>153.14.3.2</td><td>S0</td></tr><tr><td>194.17.20.0/23</td><td>194.17.24.2</td><td>S1</td></tr><tr><td>194,17.20.128/25</td><td>-</td><td>E0</td></tr></table>

2) 该 IP 分组的目的 IP 地址 194.17.20.200 与路由表中 194.17.20.0/23 和 194.17.20.128/25 两个路由表项均匹配, 根据最长匹配原则, R2 将通过 E0 接口转发该 IP 分组。

3) R1 和 R2 属于不同的自治系统, 因此应使用边界网关协议 (BGP 或 BGP4) 交换路由信息; BGP 是应用层协议, 它的报文被封装到 TCP 段中进行传输。
### 解
[[刷题/408历年真题解析/2013年408真题计算机网络篇/题47]]