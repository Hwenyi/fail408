---
aliases: 
tags: [写策略, 读写, cache, 映射, 全相联, RAM, 地址, 做错了, 计组, 字数据, 容量]
publish: true
finished: true
created: "2024-07-20 17:47"
updated: "2024-12-02 06:39"
TARGET DECK: 刷题::25计组-王道::第 3 章 存储系统::3.5 高速缓冲存储器::题21
title: 题21
---
## 题21
### 题目
Q:假设主存地址位数为 32 位, 按字节编址, 主存和 Cache 之间采用**全相联映射方式,** 主存块大小为 1 个字, 每字 32 位, 采用回写 (write back) 方式和随机替换策略, 则能存放 ${32}\mathrm{\;K}$ 字数据的 Cache 的总容量至少应有 ( ) 位。
A. ${1536}\mathrm{\;K}$ B. ${1568}\mathrm{\;K}$ C. ${2016}\mathrm{\;K}$ D. ${2048}\mathrm{\;K}$
### 分析
A:这里cache的字数据是行数吗，之后有的题也是这样的，哦对了，要拿这个字数据去除以每个块的大小，就是**行数**了
主存块大小为 1 个字, 即 32 位, 按字节编址,四个字节，也就是$2^{2}$，所以块内地址占 2 位。
在[[全相联]]映射方式下, **没有组的索引号，主存地址只有两个字段**，所以标志占 ${32} - 2 = {30}$ 位。
因采用回写法,故需 1 位修改位; 
因为采用随机替换策略, 故无须替换控制位。
每个 Cache 行的总位数为 32bit (数据位) +30bit (tag 位) + lbit (修改位) + lbit (有效位) $= {64}$ bit。
综上,Cache 总容量至少应有 ${32}\mathrm{\;K} \times  {64}$ bit $= {2048}\mathrm{\;K}$ bit。
![](https://img.hwenyi.live/202412021439702.webp)
### 解
D
![](https://img.hwenyi.live/202408111901092.webp)
