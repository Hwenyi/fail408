---
finished: true
aliases: 
tags: [真题, 做错了, 计算机网络, 题目/选择题, 应用层, RTT, TCP, HTTP]
publish: true
TARGET DECK: 刷题::25计网-王道::第 6 章 应用层::6.5 万维网(WWW)::题17
title: 题17
created: "2024-06-02 04:24"
updated: "2024-11-19 07:45"
---

## 题17
### 题目
Q:【2022 统考真题】假设主机 $\mathrm{H}$ 通过 HTTP/1.1 请求浏览某 Web 服务器 $\mathrm{S}$ 上的 Web 页 news408.html, news408.html 引用了同目录下的 1 幅图像, news408.html 文件大小为 1 MSS(最大段长)，图像文件大小为 $3\mathrm{{MSS}},\mathrm{H}$ 访问 $\mathrm{S}$ 的往返时间 RTT $= {10}\mathrm{\;{ms}}$ ,忽略 HTTP 响应报文的首部开销和 TCP 段传输时延。若 H 已完成域名解析,则从 H 请求与 S 建立 TCP连接时刻起，到接收到全部内容止，所需的时间至少是 ( )。
A. ${30}\mathrm{\;{ms}}$ B. ${40}\mathrm{\;{ms}}$ C. ${50}\mathrm{\;{ms}}$ D. ${60}\mathrm{\;{ms}}$
### 分析
A:我之前想错了，想的是：一个TCP走两个RTT，传输一个图像走一个RTT
- HTTP/1.1 使用持续连接，所有请求都是连续发送的。
- 要求最少时间，理想的情况是 TCP 在第 3 次握手的报文段中捎带了 HTTP 请求，以及传输过程中的慢开始阶段不考虑拥塞。
- 假设接收方有足够大的缓存空间，即发送窗口等同于拥塞窗口，共需要经过：
  - 第 1 个 RTT，进行 TCP 连接建立的前两次握手。
  - 第 2 个 RTT，主机 C 发送第 3 次握手报文并捎带了对 html 文件的 HTTP 请求，TCP 连接刚建立时服务器 S 的发送窗口 = 1MSS，服务器 S 发送大小为 1MSS 的 html 文件。
  - 第 3 个 RTT，主机 C 发送对 html 文件的确认并捎带了对图形文件的 HTTP 请求，服务器 S 收到确认后发送窗口变为 2MSS，然后服务器 S 发送大小为 2MSS 的图像文件。
  - 第 4 个 RTT，主机 C 向服务器 S 发送对收到的部分图像文件的确认，服务器 S 收到确认后发送窗口变为 4MSS，然后服务器 S 发送剩下的 1MSS 图像文件，完成传输，共需要 4 个 RTT，即 40 ms。
TCP连接的时候，前面两次往返是确认，走一个RTT，第三次握手就可以携带请求了，后面传输文件有[[拥塞控制]]的知识
![](https://img.hwenyi.live/202406282139389.webp)
一个[[RTT]]里可以携带多个[[MSS]]，MSS的量由[[拥塞窗口]]决定
### 解
应该选B，也就是40ms

