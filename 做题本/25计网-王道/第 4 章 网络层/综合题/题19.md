---
publish: true
tags: []
aliases: 
finished: true
title: 题19
created: "2024-11-17 18:18"
updated: "2024-11-22 14:38"
---
## 题19
### 题目
【2022 统考真题】某网络拓扑如题 47 图所示，R 为路由器，S 为以太网交换机，AP 是 802.11 接入点，路由器的 E0 接口和 DHCP 服务器的 IP 地址配置如图中所示：H1 与 H2 属于同一个广播域，但不属于同一个冲突域；H2 和 H3 属于同一个冲突域；H4 和 H5 已经接入网络，并通过 DHCP 动态获取了 IP 地址。现有路由器、100BaseT 以太网交换机和 100BaseT 集线器 (Hub) 三类设备各若干台。

![](https://img.hwenyi.live/202411222236698.webp)

请回答下列问题。

(1) 设备 1 和设备 2 应该分别选择哪类设备？

(2) 若信号传播速度为 $2\times10^8$ m/s，以太网最小帧长为 64B。信号通过设备 2 时会产生额外的 1.51 μs 的时间延迟，则 H2 与 H3 之间可以相距的最远距离是多少？

(3) 在 H4 通 DHCP 动态获取 IP 地址过程中，H4 首先发送了 DHCP 报文 M，M 是哪种 DHCP 报文？路由器 E0 接口能否收到封装 M 的以太网帧？S 向 DHCP 服务器转发的封装 M 的以太网帧的目的 MAC 地址是什么？

(4) 若 H4 向 H5 发送一个 IP 分组 P，则 H5 收到的封装 P 的 802.11 帧的地址 1、地址 2 和地址 3 分别是什么？
### 分析
[[刷题/408真题分类/计网真题/第 4 章网络层/4.2 IPv4/题23]]
[[刷题/408历年真题解析/2022年408真题计算机网络篇/题47]]
### 解
1) 设备 1 选择 [[100BASE-T]] 以太网[[交换机]], 设备 2 选择 100BaseT [[集线器]]。因为物理层设备既不能隔离[[冲突域]], 又不能隔离[[广播域]], 链路层设备可以隔离冲突域但不能隔离广播域。

2) 本题与 [[刷题/408历年真题解析/2016年408真题计算机网络篇/题36|2016 年真题第 36 题]] 几乎相同, 仅修改了几个数字。有关最短帧长的题要抓住两个公式来分析: ①发送帧的时间≥争用期的时间; ②最短帧长 = 数据传输速率×争用期时间。要使公式①恒成立, 就要考虑在最短帧长的情况下公式①仍成立。发送最短帧的时间为 ${64}\;B \div  {100}\mathrm {{Mb}} /s = {5.12\mu }s$ ,根据公式①可知,该时间即为争用期时间 (往返时延) 的最大值。本题的特点在于往返时延由两部分组成, 即传播时延和 Hub 产生的转发时延。单程总时延为 ${2.56\mu }s,\mathrm {{Hub}} $ 产生的转发时延为 ${1.51\mu }s$ ,所以传播时延为 ${2.56} - {1.51} = {1.05\mu }s$ ,从而  H3 与 H4 之间理论上可以相距的最大距离为 ${200}\;m/\mu s \times  {1.05\mu }s = {210}\;m$ 。

3) M 是 DHCP 发现报文 (DISCOVER 报文)。路由器 E0 接口能收到封装 M 的以太网帧,  因为 $H4$ 发送的 DHCP 发现报文是广播的形式,所以同一个广播域内的所有设备和接口都可以收到该以太网帧。因为是广播帧,所以目的 MAC 地址是全 $1,\;S$ 向 DHCP 服务器转发的封装 $M$ 的以太网帧的目的 $\mathrm {{MAC}}$ 地址是 FF-FF-FF-FF-FF-FF。

4) 在 H5 收到的帧中, 地址 1、地址 2 和地址 3 分别是 00-11-11-11-11-E1、00-11-11-11-11-C1  和 00-11-11-11-11-D1。该帧来自 AP, 地址 1 是接收方 H5 的 MAC 地址, 地址 2 是 AP  的 MAC 地址, 地址 3 是发送方 H4 的 MAC 地址。