---
aliases: 
tags:
  - 计算机网络
  - ipv4
  - IP
  - 网络层
  - 做错了
  - 真题
publish: true
finished: true
created: 2024-06-02 13:32
updated: 2024-07-05 11:13
TARGET DECK: 刷题::25计网-王道::第 4 章 网络层::4.2 IPV4::题66
error: true
---
## 题66
### 题目
Q:【2021 统考真题】若路由器向 MTU $= {800}\mathrm{\;B}$ 的链路转发一个总长度为 ${1580}\mathrm{\;B}$ 的 IP 数据报（首部长度为 ${20}\mathrm{\;B}$ ）时进行了分片,且每个分片尽可能大,则第 2 个分片的总长度字段和 MF 标志位的值分别是 ( )。
A. 796, 0 B. 796, 1 C. 800,0 D. 800,1
### 分析
A:记住要在[[ipv4数据报的首部格式|IP数据报]]和分片的MTU里面都先把首部的20B去掉
![](https://img.hwenyi.live/202407051114907.webp)
- 链路层 $\mathrm {{MTU}} = {800}\mathrm{\;B}$
- IP 分组首部长 ${20}\mathrm{\;B}$
- 片偏移以 8 个字节为偏移单位
  - 除了最后一个分片, 其他每个分片的数据部分长度都是 8B 的整数倍
- 所以, 最大 IP 分片的数据部分长度为  ${776}\mathrm{\;B}$
- 在总长度为 ${1580}\mathrm{\;B}$ 的 IP 数据报中,数据部分占 ${1560}\mathrm{\;B}$
  - ${1560}\mathrm{\;B}/{776}\mathrm{\;B} = {2.01}\cdots$
  - 需要分成 3  片
- 所以第 2 个分片的总长度字段为 ${796}$
  - $\mathrm {{MF}}$ 为 1 (表示还有后续的分片) 
### 解
选B
<!--ID: 1720198623510-->


