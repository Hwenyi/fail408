---
aliases: 
tags:
  - 真题
  - 二级结论
  - 矩阵
  - 特殊情况
  - 数据结构
  - 犹豫
  - 数组
publish: true
finished: true
created: 2024-08-21 17:39
updated: 2024-08-25 02:31
TARGET DECK: 刷题::25DS-王道::第 3 章 栈、队列和数组::3. 4 数组和特殊矩阵::题11
---
## 题11
### 题目
Q:【2016 统考真题】有一个 100 阶的三对角矩阵 `M` ,其元素 `m[i, j] (1 ≤ i, j ≤ 100)` 按行优先依次压缩存入下标从 0 开始的一维数组 `N` 中. 元素 `m[30, 30]` 在 `N` 中的下标是 ( ).
A. 86 
B. 87 
C. 88 
D. 89
### 分析
A:什么叫做三对角矩阵
![](https://img.hwenyi.live/202408261605070.webp)
写几个出来，然后手动归纳
![](https://img.hwenyi.live/202408261607382.webp)
### 解
B
三对角矩阵如下所示。
$$
\lbrack  \begin{matrix} {a}_{1,1} & {a}_{1,2} & & & & \\  {a}_{2,1} & {a}_{2,2} & {a}_{2,3} & & 0 & \\   & {a}_{3,2} & {a}_{3,3} & {a}_{3,4} & & \\   & &  \ddots  &  \ddots  &  \ddots  & \\   & 0 & & {a}_{n - 1,n - 2} & {a}_{n - 1,n - 1} & {a}_{n - 1,n} \\   & & & & {a}_{n,n - 1} & {a}_{n,n} \end{matrix}\rbrack
$$
采用压缩存储,将 3 条对角线上的元素按行优先方式存放在一维数组 $\mathrm{B}$ 中,且 ${a}_{1,1}$ 存放于 $\mathrm{B}\lbrack  0\rbrack$ 中, 其存储形式如下所示:


| <br> | ${a}_{1,1}$ | ${a}_{1,2}$ | ${a}_{2,1}$ | ${a}_{2,2}$ | ${a}_{2,3}$ | $\cdots$ | ${a}_{n - 1,n}$ | ${a}_{n,n - 1}$ | ${a}_{n,n}$ |
| ---- | ----------- | ----------- | ----------- | ----------- | ----------- | -------- | --------------- | --------------- | ----------- |
|      |             |             |             |             |             |          |                 |                 |             |
可以计算矩阵 $\mathbf{A}$ 中 3 条对角线上的元素 ${a}_{ij}( {1 \leq  i,j \leq  n,| {i - j}|  \leq  1})$ 在一维数组 $\mathrm{B}$ 中存放的下标为 $k = {2i} + j - 3$ ,公式很难记忆,我们通常采用解法 2 。
解法 1: 针对该题,仅需将数字逐一代入公式: $k = 2 \times  {30} + {30} - 3 = {87}$ ,结果为 87 。
解法 2: 观察上图的三对角矩阵不难发现,第一行有两个元素,剩下的在元素 ${m}_{{30},{30}}$ 所在行之前的 28 行 (注意下标 $1 \leq  i,j \leq  {100}$ ) 中,每行都有 3 个元素,而 ${m}_{{30},{30}}$ 之前仅有一个元素 ${m}_{{30},{29}}$ , 不难发现元素 ${m}_{{30},{30}}$ 在数组 $N$ 中的下标是 $2 + {28} \times  3 + 2 - 1 = {87}$ 。
注意
矩阵和数组的下标从 0 或 1 开始 (如矩阵可能从 ${a}_{0,0}$ 或 ${a}_{1,1}$ 开始,数组可能从 $\mathrm{B}\lbrack  0\rbrack$ 或 $\mathrm{B}\lbrack  1\rbrack$ 开始), 这时就需要适时调整计算方法 (方法无非是多计算 1 或少计算 1 的问题)。