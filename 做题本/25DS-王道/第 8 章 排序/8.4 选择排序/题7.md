---
publish: true
tags:
  - 题目/选择题
  - 数据结构
  - 排序
  - 堆
  - 复杂度
  - 选择排序
  - 堆排序
  - 做错了
  - 概念
  - 二级结论
aliases: 
finished: true
title: 题7
created: 2024-08-30 21:10
updated: 2024-09-30 16:47
TARGET DECK: 刷题::25DS-王道::第 8 章 排序::8.4 选择排序::题7
---
## 题7
### 题目
Q:构建 $n$ 个记录的初始堆，其时间复杂度为 ( ) ；
对 $n$ 个记录进行堆排序，最坏情况下其时间复杂度为 ( ).
A. $O\left( n\right)$ B. $O\left( {n}^{2}\right)$ C. $O\left( {{\log }_{2}n}\right)$ D. $O\left( {n{\log }_{2}n}\right)$
### 分析
A:正确答案是：
- 构建 $n$ 个记录的初始堆，其时间复杂度为 **A. $O(n)$**。
- 对 $n$ 个记录进行堆排序，最坏情况下其时间复杂度为 **D. $O(n \log_2 n)$**。
**解释:**
1. **构建初始堆 - $O(n)$:** 虽然构建堆的过程中需要进行“向下调整”操作，而每次调整的时间复杂度看似是 $O(\log_2 n)$，但实际上，并**不是所有节点都需要调整这么多层**。 
   - 只有靠近根节点的少数节点需要调整 $\log_2 n$ 层。
   - 绝大多数节点都位于堆的底层，只需要调整很少的层数，甚至不需要调整。
   - 总体来说，构建初始堆的比较次数和交换次数都和 $n$ 成线性关系，因此时间复杂度是 $O(n)$。
2. **堆排序 - $O(n \log_2 n)$:** 堆排序主要包含两个阶段：
   - **构建初始堆:** 如上所述，时间复杂度为 $O(n)$。
   - **输出堆顶元素并调整堆:** 这个过程需要执行 $n-1$ 次。
   - 每次操作都需要将堆顶元素与最后一个元素交换，然后将新的堆顶元素向下调整至合适的位置，这一步的时间复杂度是 $O(\log_2 n)$。
   - 因此，该阶段的时间复杂度是 $(n-1) * O(\log_2 n)$，也就是 $O(n \log_2 n)$。
由于堆排序的时间复杂度主要由第二个阶段决定，因此总体的时间复杂度是 **$O(n \log_2 n)$**。
### 解
A、D
建堆过程中,向下调整的时间与树高 $h$ 有关,为 $O\left( h\right)$ 。
每次向下调整时,大部分结点的高度都较小。
因此,可以证明在元素个数为 $n$ 的序列上建堆,其时间复杂度为 $O\left( n\right)$ 。
无论是在最好情况下还是在最坏情况下,堆排序的时间复杂度均为 $O\left( {n{\log }_{2}n}\right)$ 。
<!--ID: 1727859179519-->


 