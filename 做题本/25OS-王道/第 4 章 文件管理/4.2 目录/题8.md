---
publish: true
aliases: 
tags:
  - 犹豫
  - 文件
  - 引用
  - 操作系统
  - 硬盘
  - RAM
finished: true
created: 2024-07-23 06:32
updated: 2024-09-21 13:12
title: 题8
TARGET DECK: 刷题::25OS-王道::第 4 章 文件管理::4.2 目录::题8
---
## 题8
### 题目
Q:设文件 ${F1}$ 的当前引用计数值为 1,先建立 ${F1}$ 的硬链接文件 ${F2}$ ,再建立 ${F2}$ 的符号链接文件 ${F3}$ ,现有两个进程 ${P}_{1}$ 和 ${P}_{2}$ 分别打开了 ${F1}$ 和 ${F2}$ ,则下列说法中正确的是 ( ) 。
A. 两次打开操作只涉及一次**文件索引节点**的磁盘读取操作
B. 进程 ${P}_{1}$ 和 ${P}_{2}$ 对 ${F1}$ 具有相同的访问权限
C. 若删除文件 F3,则 ${F2}$ 的引用计数值减 1
D. 进程 ${P}_{1}$ 读取 ${F1}$ 时需要提供 ${F1}$ 的绝对路径作为系统调用参数
### 分析
A:C肯定不对，另外，硬盘里面的东西都是要读到内存里面以后再来操作的
话说是什么时候调用，才需要使用文件名，好像是，初次使用open打开文件？
### 解
A
文件 $\mathrm{F}2$ 是 $\mathrm{F}1$ 的硬链接文件,指向同一个索引节点,当进程 ${\mathrm{P}}_{1}$ 第一次打开 $\mathrm{F}1$ 时,会将磁盘上的索引节点读入内存,之后进程 ${\mathrm{P}}_{1}$ 打开 $\mathrm{F}2$ 及进程 ${\mathrm{P}}_{2}$ 打开 $\mathrm{F}1$ 和 $\mathrm{F}2$ 都共享之前已读入内存的索引节点, $\mathrm{A}$ 正确。
${\mathrm{P}}_{1}$ 和 ${\mathrm{P}}_{2}$ 对同一个文件的访问权限可能有所不同, $\mathrm{B}$ 错误。
F3 是 $\mathrm{F}1$ 的软链接文件,删除 $\mathrm{F}3$ 不影响 $\mathrm{F}1$ 的引用计数值, $\mathrm{C}$ 错误。
读取 $\mathrm{F}1$ 只需传入 $\mathrm{F}1$ 在进程 ${\mathrm{P}}_{1}$ 中的**文件描述符** (即 $\mathrm{F}1$ 在进程 ${\mathrm{P}}_{1}$ 的进程**打开文件表中的索引号**),并不需要其路径名, $\mathrm{D}$ 错误。
