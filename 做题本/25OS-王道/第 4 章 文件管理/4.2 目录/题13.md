---
publish: true
aliases: 
tags: []
finished: true
created: 2024-07-23 06:32
updated: 2024-09-21 13:12
title: 题13
---
## 题13
### 题目
【2009 统考真题】设文件 F1 的当前引用计数值为 1 , 先建立文件 F1 的符号链接（软链接) 文件 ${F2}$ ,再建立文件 ${F1}$ 的硬链接文件 $\mathrm{F}3$ ,然后删除文件 $\mathrm{F}1$ 。此时,文件 $\mathrm{F}2$ 和文件 F3 的引用计数值分别是 ( )。
A. $0,1$ 
B. 1,1 
C. $1,2$ 
D. 2,1
### 分析
建立符号链接时, 引用计数值直接设置为 1 , 不受被链接文件的影响; 建立硬链接时, 引用计数值加 1 。
删除文件时, 删除操作对于符号链接是不可见的, 这并不影响文件系统, 当以后再通过符号链接访问时, 发现文件不存在, 直接删除符号链接;
但对于硬链接则不可直接删除, 引用计数值减 1 , 若值不为 0 , 则不能删除此文件, 因为还有其他硬链接指向此文件。
![](https://img.hwenyi.live/202408231631963.webp)
当建立 $\mathrm{F}2$ 时, $\mathrm{F}1$ 和 $\mathrm{F}2$ 的引用计数值都为 1 。当再建立 $\mathrm{F}3$ 时, $\mathrm{F}1$ 和 $\mathrm{F}3$ 的引用计数值就都变成了 2 。当后来删除 $\mathrm{F}1$ 时, $\mathrm{F}3$ 的引用计数值为 $2 - 1 = 1,\mathrm{\;F}2$ 的引用计数值不变。
### 解
B