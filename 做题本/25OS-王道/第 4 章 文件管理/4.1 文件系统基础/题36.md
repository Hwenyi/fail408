---
publish: true
aliases: 
tags: []
finished: true
created: "2024-07-23 06:28"
updated: "2024-09-21 13:12"
title: 题36
---
## 题36
### 题目
某文件有 100 个盘块 (数据块), 假设管理文件所必需的文件控制块、所有索引块都已调入内存。
若需要在文件的第 45 个盘块后插入数据，则物理结构采用 ( ) 时开销最大。
A. 连续分配 
B. 链接分配
C. 一级索引分配 
D. 多级索引分配
### 分析
有哪些物理结构呢？！
![202408212027672.webp](https://img.hwenyi.live/202408212027672.webp)
还是一个复杂度的问题，如果是连续分配，在第四十五的位置插入元素，意味着四十五往后的所有元素都要往后挪一个位置，每一个块都要读一遍，这个IO是灾难性的
### 解
采用连续分配时, 至少需进行 45 次读磁盘和 45 次写磁盘, 将前 45 个盘块依次向前移动, 之后还要进行 1 次写磁盘, 将数据写入对应空出的盘块。采用链接分配时, 需进行 45 次读磁盘, 然后修改第 45 个磁盘块中的链接指针, 并写新磁盘块, 共进行 2 次写磁盘, 开销比顺序文件小。 
采用一级索引分配或多级索引分配时,只需修改内存中的索引表,不需磁盘 $\mathrm{I}/\mathrm{O}$ ,开销较小。
A
