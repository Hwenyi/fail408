---
publish: true
tags:
  - 操作系统
  - 进程
  - 调度
  - 题目/选择题
  - cpu
  - 队列
  - 算法
  - 做错了
  - 真题
aliases: 
finished: true
title: 题45
created: 2024-07-22 21:37
updated: 2024-09-21 13:11
TARGET DECK: 刷题::25OS-王道::第 2 章 进程与线程::2.2 CPU 调度::题45
---
## 题45
### 题目
Q:【2019 统考真题】系统采用二级反馈队列调度算法进行进程调度。
就绪队列 ${{Q}}_{1}$ 采用时间片轮转调度算法,时间片为 ${10}{\;{ms}}$ 
就绪队列 ${{Q}}_{2}$ 采用短进程优先调度算法; 
系统优先调度 ${{Q}}_{1}$ 队列中的进程,当 ${{Q}}_{1}$ 为空时系统才会调度 ${{Q}}_{2}$ 中的进程; 
新创建的进程首先进入 ${{Q}}_{1}$
${{Q}}_{1}$ 中的进程执行一个时间片后,若未结束,则转入 ${{Q}}_{2}$ . 
若当前 ${{Q}}_{1},{{Q}}_{2}$ 为空,系统依次创建进程 ${{P}}_{1},{{P}}_{2}$ 后即开始进程调度, ${{P}}_{1},{{P}}_{2}$ 需要的 CPU 时间分别为 ${30}{\;{ms}}$ 和 ${20}{\;{ms}}$ ,则进程 ${P}_{1},{P}_{2}$ 在系统中的平均等待时间为 ( ) 。
A. ${25}{\;{ms}}$ 
B. ${20}{\;{ms}}$ 
C. ${15}{\;{ms}}$ 
D. ${10}{\;{ms}}$
### 分析
A:在Q1中居然是串行的，题目说，当 ${{Q}}_{1}$ 为空时系统才会调度 ${{Q}}_{2}$ 中的进程
我以为是P1先进去，然后P1的10ms走完了，P2进去，由于P2占用了Q1，导致Q2中的P1是无法启动的，所以我多画了时间段
而且题目问的是**平均等待时间**，我画的是周转时间
![|300](https://img.hwenyi.live/202409172248579.webp)
### 解
C
- 进程 ${\mathrm{P}}_{1},{\mathrm{P}}_{2}$ 依次创建后进入队列 ${\mathrm{Q}}_{1}$
    - 进程 ${\mathrm{P}}_{1},{\mathrm{P}}_{2}$ 将依次被分配 ${10}\mathrm{\;{ms}}$ 的 CPU 时间
    - 两个进程分别执行完一个时间片后都会被转入队列 ${\mathrm{Q}}_{2}$
- 就绪队列 ${\mathrm{Q}}_{2}$ 采用短进程优先调度算法
    - 此时 ${\mathrm{P}}_{1}$ 还需要 ${20}\mathrm{\;{ms}}$ 的 $\mathrm{{CPU}}$ 时间
    - ${\mathrm{P}}_{2}$ 还需要 ${10}\mathrm{\;{ms}}$ 的 $\mathrm{{CPU}}$ 时间
    - 所以 ${\mathrm{P}}_{2}$ 会被优先调度执行
    - ${10}\mathrm{\;{ms}}$ 后进程 ${\mathrm{P}}_{2}$ 执行完成
    - 之后 ${\mathrm{P}}_{1}$ 再调度执行
    - 再过 ${20}\mathrm{\;{ms}}$ 后 ${\mathrm{P}}_{1}$ 也执行完成
- 运行图表述如下。
![0190de02-3c6a-77ee-9509-aa0f897ee3dc_100_972955.jpg](https://img.hwenyi.live/202407291547010.webp)
进程 ${\mathrm{P}}_{1}\text{、}{\mathrm{P}}_{2}$ 的等待时间分别为图中的虚横线部分,平均等待时间 $= ( {\mathrm{P}}_{1}.$ 的等待时间 $+ {\mathrm{P}}_{2}$ 的等待时间 $)/2 = ( {{20} + {10}}) /2 = {15}$ ,因此答案选 $\mathrm{C}$ 。

 