---
publish: true
tags: []
aliases: 
finished: true
title: 题14
created: "2024-11-12 11:42"
updated: "2024-12-03 05:07"
---
## 题14
### 题目
【2009 统考真题】请求分页管理系统中，假设某进程的页表内容见下表。

$\begin{array}{|c|}\hline \text{页号}&\text{页框（Page Frame）号}&\text{有效位（存在位）}\\\hline 0&\text{101H}&1\\ 1&&0\\ 2&\text{254H}&1\\\hline \end{array}$

页面大小为 4KB，一次内存的访问时间为 100ns，一次快表（TLB）的访问时间为 10ns，处理一次缺页的平均时间为 $10^8$ ns（已含更新 TLB 和页表的时间），进程的驻留集大小固定为 2，采用最近最少使用置换算法（LRU）和局部淘汰策略。假设①TLB 初始为空；②地址转换时先访问 TLB，若 TLB 未命中，再访问页表（忽略访问页表之后的 TLB 更新时间）；③有效位为 0 表示页面不在内存中，产生缺页中断，缺页中断处理后，返回到产生缺页中断的指令处重新执行。设有虚地址访问序列 2362H、1565H、25A5H，请问：

(1) 依次访问上述三个虚地址，各需多少时间？给出计算过程。

(2) 基于上述访问序列，虚地址 1565H 的物理地址是多少？请说明理由。
### 分析
1) 根据页式管理的工作原理, 应先考虑页面大小, 以便将页号和页内位移分解出来。页面大小为 $4{KB}$ ,即 ${2}^{12}$ ,得到页内位移占虚地址的低 12 位,页号占剩余高位。可得三个虚地址的页号 $P$ 如下 (十六进制的一位数字转换成二进制的 4 位数字,因此十六进制的低三位正好为页内位移, 最高位为页号):

2362H: $P = 2$ ,访问快表 ${10}\;{ns}$ ,因初始为空,访问页表 ${100}\;{ns}$ 得到页框号,合成物理地址后访问主存 100ns,共计 ${10}\;{ns} + {100}\;{ns} + {100}\;{ns} = {210}\;{ns}$ 。

${1565}H : P = 1$ ,访问快表 ${10}\;{ns}$ ,落空,访问页表 ${100}\;{ns}$ 落空,进行缺页中断处理 ${10}^{8}\;{ns}$ ,访问快表 ${10}\;{ns}$ ,合成物理地址后访问主存 ${100}\;{ns}$ ,共计 ${10}\;{ns} + {100}\;{ns} + {10}^{8}\;{ns} + {10}\;{ns} + {100}\;{ns} =$ ${100000220}\;{ns}$ 。

25A5H: $P = 2$ ,访问快表,因第一次访问已将该页号放入快表,因此花费 10 ns 便可合成物理地址,访问主存 ${100}\;{ns}$ ,共计 ${10}\;{ns} + {100}\;{ns} = {110}\;{ns}$ 。

2) 当访问虚地址 ${1565}H$ 时,产生缺页中断,合法驻留集为 2,必须从页表中淘汰一个页面, 根据题目的置换算法,应淘汰 0 号页面,因此 ${1565}H$ 的对应页框号为 ${101}H$ 。由此可得 ${1565}H$ 的物理地址为 ${101565}H$ 。
### 解