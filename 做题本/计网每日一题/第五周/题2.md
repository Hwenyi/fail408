---
publish: true
tags: []
aliases: 
finished: true
title: 题2
created: "2024-11-21 03:17"
updated: "2024-12-06 01:11"
---
## 题2
### 题目
FTP客户与FTP服务器的某个通信过程如右图所示，在该过程中，FTP客户与FTP服务器之间建立TCP连接的次数记为n，首次建立 TCP连接时 FTP客户发送的 TCP连接请求报文段的目的端口号记为d，FTP的工作模式记为 m。假设除了所建立的第一个TCP连接外，对于所建立的其他TCP连接，FTP服务器使用的端口号都是大于 1023 的，并且整个通信过程未出现任何差错，则n，d，m分别是（）
![|375](https://img.hwenyi.live/202411211059444.webp)
A.2，21，主动模式
B.2，20，主动模式
C.3，21，被动模式
D.3，20，被动模式
### 分析
端口号很奇怪，显然是[[FTP文件传输协议-TCP封装|FTP]]的被动模式，由客户端来选取，控制连接我们选择的端口是固定的，应该是21，这和TCP三次握手也是对应的，连接的次数是3，所以我选 C
### 解
![](https://img.hwenyi.live/202411221630600.webp)
1. [[FTP文件传输协议-TCP封装|FTP]]客户发起的、用于传送FTP控制命令的TCP连接，目的端口号为21。基于TCP连接进行FTP会话，进而完成登录。
2. [[FTP文件传输协议-TCP封装|FTP]]客户发起的、用于传送数据的TCP连接，目的端口号为FTP客户告知的临时端口号（大于1023，被动模式）。基于TCP连接传送数据，传送完成后，释放TCP连接。
3. [[FTP文件传输协议-TCP封装|FTP]]客户发起的、用于传送数据的TCP连接，目的端口号为FTP客户告知的临时端口号（大于1023，被动模式）。基于TCP连接传送数据，传送完成后，释放TCP连接。
4. 结束[[FTP文件传输协议-TCP封装|FTP]]会话，释放用于传送FTP控制命令的TCP连接。