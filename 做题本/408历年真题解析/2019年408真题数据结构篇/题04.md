---
publish: true
tags: 
aliases: 
finished: true
title: 题04
created: "2024-11-21 07:25"
updated: "2024-11-21 07:40"
---
## 题04
### 题目
> [!question]+
> 在任意一棵非空平衡二叉树（AVL 树） $T_1$ 中，删除某结点 $v$ 之后形成平衡二叉树 $T_2$ ， 再将 $v$ 插入 $T_2$ 形成平衡二叉树 $T_3$ 。下列关于 $T_1$ 与 $T_3$ 的叙述中，正确的是（ ）。
> 
> I. 若 $v$ 是 $T_1$ 的叶结点，则 $T_1$ 与 $T_3$ 可能不相同
> 
> II. 若 $v$ 不是 $T_1$ 的叶结点，则 $T_1$ 与 $T_3$ 一定不相同
> 
> III. 若 $v$ 不是 $T_1$ 的叶结点，则 $T_1$ 与 $T_3$ 一定相同
> 
> A. 仅 I
> 
> B. 仅 II
> 
> C. 仅 I、II
> 
> D. 仅 I、III
### 解
> [!done]+
> **方法一：推理**
> 
> AVL 树首先是二叉搜索树，遵循二叉搜索树的性质。
> 
> 如果从 $T_1$ 中删除一个结点 $z$ ，不考虑平衡调整。
> 
> ![](https://pic4.zhimg.com/v2-b58236e5890cea0bff466c0348815003_r.jpg)
> 
> 从二叉搜索树 $T_1$ 中删除结点 $z$ 分三种情况：
> 
> - 情况一：如果 $z$ 没有孩子结点，直接删除， $z$ 的父结点指向 $z$ 的指针置为 NIL。如图 (a) 所示。
> - 情况二：如果 $z$ 只有一个孩子结点，将这个孩子结点提升到 $z$ 的位置，$z$ 的父结点指向 $z$ 的指针改为指向这个孩子结点。如图 (b) 所示。
> - 情况三：如果 $z$ 有两个孩子结点，找出 $z$ 的后继 $y$ ，让 $y$ 占据 $z$ 的位置， $z$ 的右子树变为 $y$ 的右子树，$z$ 的左子树变为 $y$ 的左子树。由于 $y$ 是 $z$ 的后继，所以 $y$ 不可能有左孩子。
> - 如果 $y$ 是 $z$ 的右孩子，用 $y$ 替换 $z$ 。
> - 如果 $y$ 在 $z$ 的右子树中且 $y$ 不是 $z$ 的右孩子，先用 $y$ 的右孩子结点替换 $y$ ，然后用 $y$ 替换 $z$ 。
> 
> 下面具体分情况讨论。
> 
> - 情况一：如果 $z$ 没有孩子结点，直接删除。再插入 $z$ 后， $T_1$ 与 $T_3$ 可能相同也可能不相同。
> - 如果删除 $z$ 后仍为 AVL 树，不需要进行旋转调整，再插入 $z$ 后， $z$ 还在原来位置，此时 $T_3$ 与 $T_1$ 相同。
> - 如果删除 $z$ 后仍为 AVL 树不平衡，需要进行旋转调整，此时 AVL 树结构发生变化，子树根结点发生变化，重新插入 $z$ 的路径发生变化，插入后 $z$ 所在子树不需要进行旋转调整，推理过程如下：删除 $z$ 前最下面叶结点的深度为 $2$ ， $z$ 的深度为 $1$ ， $z$ 的父结点深度为 $0$ ，删除 $z$ 后进行调整， $z$ 的父结点和另一侧叶结点深度相同均为 $1$ ，再插入 $z$ ，此时 $z$ 的深度为 $2$ ，原先最下面叶结点深度为 $1$ ，符合 AVL 树性质，不需要进行旋转调整。此时 $T_3$ 与 $T_1$ 不相同。
> - 情况二：如果 $z$ 只有一个孩子结点，将这个孩子结点提升到 $z$ 的位置，$z$ 的父结点指向 $z$ 的指针改为指向这个孩子结点。
> - 如果删除 $z$ 后仍为 AVL 树且左右高度差为 $0$ ，不需要进行旋转调整，再重新插入 $z$ 后， $z$ 变为叶结点。$T_1$ 与 $T_3$ 一定不相同。
> - 如果删除 $z$ 后仍为 AVL 树且左右高度差为 $1$ 且 $z$ 的父结点位于较高的一侧，再重新插入 $z$ 后，仍为 AVL 树，不需要进行旋转调整， $z$ 变为叶结点。$T_1$ 与 $T_3$ 一定不相同。
> - 如果删除 $z$ 后仍为 AVL 树且左右高度差为 $1$ 且 $z$ 的父结点位于较低的一侧，再重新插入 $z$ 后，AVL 树不平衡，需要进行旋转调整，调整后 $T_1$ 与 $T_3$ 可能相同。
> 
> 分析到情况二结果已经出来了，且情况三更加复杂，不需要进行继续分析。I 正确，II 错误，III 错误。
> 
> 本题选 **A**。
> 
> 注：参考[算法导论（第四版）第十二章：二叉搜索树　第三节：插入和删除](https://zhuanlan.zhihu.com/p/560332072)。
> 
> **方法二：画图举例**
> 
> 可以发现，严格按照性质分析结果过于复杂，还是画图举例：
> 
> ![](https://pic3.zhimg.com/v2-b91ac81dd89d80dadb020705dd25395a_r.jpg)
> 
> I 正确，II 错误，III 错误。
> 
> 本题选 **A**。
> 
> **方法三：断言**
> 
> 下面提供秒题解法：
> 
> 看到绝对词排除，II、III 都有一定，太绝对，错误。
> 
> 为什么敢玩的这么大胆，因为这里涉及 AVL 树的插入删除，其中包含二叉搜索树的插入和删除以及 AVL 树的旋转，情况非常复杂多变，过于绝对的选项大概率能够举出反例。
> 
> I 正确，II 错误，III 错误。
> 
> 本题选 **A**。