---
publish: true
tags: 
aliases: 
finished: true
title: 题46
created: "2024-11-21 06:39"
updated: "2024-11-21 07:40"
---
## 题46
### 题目
> [!question]+
> （8 分）设某计算机的逻辑地址空间和物理地址空间均为 64KB，按字节编址。若某进程最多需要 6 页 (Page) 数据存储空间，页的大小为 1KB，操作系统采用固定分配局部置换策略为此进程分配 4 个页框 (Page Frame)。在时刻 260 前该进程访问情况见下表（访问位即使用位）。
> 
> $\begin{array}{|c|}\hline \text{页号}&\text{页框号}&\text{装入时间}&\text{访问位}\\\hline 0&7&130&1\\ 1&4&230&1\\ 2&2&200&1\\ 3&9&160&1\\\hline \end{array}$
> 
> 当该进程执行到时刻 260 时，要访问逻辑地址为 17CAH 的数据。请回答下列问题：
> 
> (1) 该逻辑地址对应的页号是多少？
> 
> (2) 若采用先进先出 (FIFO) 置换算法，该逻辑地址对应的物理地址？要求给出计算过程。
> 
> (3) 采用时钟 (CLOCK) 置换算法，该逻辑地址对应的物理地址是多少？要求给出计算过程（设搜索下一页的指针按顺时针方向移动，且指向当前 2 号页框，示意图如下图）。
> 
> ![](https://pica.zhimg.com/v2-159b784cb34ca1b80613134cebf00fa0_r.jpg)
### 解
> [!done]+
> (1) 逻辑地址格式为$\begin{array}{|c|}\hline \text{页号}&\text{页内地址}\\\hline \end{array}$，物理地址格式为$\begin{array}{|c|}\hline \text{页框号}&\text{页内地址}\\\hline \end{array}$。由于该计算机的逻辑地址空间和物理地址空间均为 64KB= $2^{16}$ B，页大小为 1KB= $2^{10}$ B，按字节编址，所以逻辑地址占 16 位，物理地址占 16 位，页内地址占低 10 位，页号占逻辑地址的高 16-10=6 位，页框号占物理地址的高 16-10=6 位。逻辑地址 17CAH= $\rm \underbrace{0001 01}_{\text{虚页号}} \underbrace{11 1100 1010}_{\text{页内地址}}B$ ，页号为 000101B=5。
> 
> (2) 根据 FIFO 算法，需要替换装入时间最早的页，查表得，0 号页装入时间最早，因此替换 0 号页，替换后进程访问情况见下表：
> 
> $\begin{array}{|c|}\hline \text{页号}&\text{页框号}&\text{装入时间}&\text{访问位}\\\hline 5&7&260&1\\ 1&4&230&1\\ 2&2&200&1\\ 3&9&160&1\\\hline \end{array}$
> 
> 此时页框号为 7=000111B，拼接页内地址 11 1100 1010B 得到物理地址 $\rm \underbrace{0001 11}_{\text{页框号}} \underbrace{11 1100 1010}_{\text{页内地址}}B$ =1FCAH。
> 
> (3) 根据 CLOCK 算法，若当前指针所指页框的使用位为 0，则替换该页；否则将使用位设为 0，并将指针指向下一个页框，继续查找，直到找到第一个使用位为 0 的页框进行替换。根据题设和示意图，指针将从 2 号页开始，搜索下一页的指针按顺时针方向移动，模拟过程如下：
> 
> ![](https://pica.zhimg.com/v2-1ab03b012f5ef28ac22e3c99789513c4_r.jpg)
> 
> 访问过程依次如图 (a)、(b)、(c)、(d)、(e) 所示，根据图 (e)，最终替换 2 号页，替换后如图(f) 所示，此时进程访问情况见下表：
> 
> $\begin{array}{|c|}\hline \text{页号}&\text{页框号}&\text{装入时间}&\text{访问位}\\\hline 0&7&130&0\\ 1&4&230&0\\ 5&2&260&1\\ 3&9&160&0\\\hline \end{array}$
> 
> 此时页框号为 2=000010B，拼接页内地址 11 1100 1010B 得到物理地址 $\rm \underbrace{0000 10}_{\text{页框号}} \underbrace{11 1100 1010}_{\text{页内地址}}B$ =0BCAH。