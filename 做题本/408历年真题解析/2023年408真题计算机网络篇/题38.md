---
publish: true
tags: 
aliases: 
finished: true
title: 题38
created: "2024-11-21 07:30"
updated: "2024-11-21 07:40"
---
## 题38
### 题目
> [!question]+
> 某网络拓扑如下图所示，其中路由器 R2 实现 NAT 功能。若主机 H 向 Internet 发送一个 IP 分组，则经过 R2 转发后，该 IP 分组的源 IP 地址是（ ）。
> 
> ![](https://pic2.zhimg.com/v2-f700f34ee70203faf3c5a5bad8d48871_r.jpg)
> 
> A. 192.168.0.33
> 
> B. 192.168.0.35
> 
> C. 192.168.0.1
> 
> D. 192.168.0.3
### 解
> [!done]+
> 路由器 R1 的 IP 地址为 195.123.0.34/30 与路由器 R2 连接 R1 的接口处于同一网络中，将 195.123.0.34/30 所在子网后 8 位写成二进制形式，其中主机号部分用的位用 x 表示，每个 x 可以取 0 或 1，二进制位用红色表示，得到 $\rm 195.123.0.\color{red}{001000xx}$ ，去除主机号位全 0 的网络地址和主机号位全 1 的广播地址，可分配的 IP 为 $\rm 195.123.0.\color{red}{00100001}$ 和 $\rm 195.123.0.\color{red}{00100010}$ ，即 195.123.0.33 和 195.123.0.34，195.123.0.34 已被分配给路由器 R1，因此 195.123.0.33 被分配给路由器 R2。
> 
> 主机 H 向 Internet 发送一个 IP 分组。
> 
> 在从 H 到 R2 的链路上，该 IP 分组的源 IP 地址是 H 的 IP 地址 192.168.0.3（私有地址）。
> 
> 在从 R2 到 R1 的链路上，路由器 R2 实现 NAT 功能，源 IP 地址实现了私有地址向公有地址的转换，转换为该链路上 R2 的接口 IP 地址 195.123.0.33。
> 
> 因此，若主机 H 向 Internet 发送一个 IP 分组，则经过 R2 转发后，该 IP 分组的源 IP 地址是 195.123.0.33。
> 
> 本题选 A。