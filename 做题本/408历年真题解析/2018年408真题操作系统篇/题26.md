---
publish: true
tags: 
aliases: 
finished: true
title: 题26
created: "2024-11-21 07:18"
updated: "2024-11-21 07:40"
---
## 题26
### 题目
> [!question]+
> 假设系统中有 4 个同类资源，进程 P1、P2 和 P3 需要的资源数分别为 4、3 和 1，P1、P2 和 P3 已申请到的资源数分别为 2、1 和 0，则执行安全性检测算法的结果是
> 
> A. 不存在安全序列，系统处于不安全状态
> 
> B. 存在多个安全序列，系统处于安全状态
> 
> C. 存在唯一安全序列 P3、P1、P2，系统处于安全状态
> 
> D. 存在唯一安全序列 P3、P2、P1，系统处于安全状态
### 解
> [!done]+
> **方法一：资源分配图**
> 
> 资源分配图：一种描述系统当前状态的图，图中有进程结点、资源结点以及两种不同结点之间的有向边。
> 
> 资源分配图化简方法：从资源分配图中找既非孤立又非阻塞的进程结点，将该结点直接有关的有向边全删去，重复上述过程直到图中找不到既非孤立又非阻塞的进程结点为止。
> 
> 根据题意，设资源为 R，画出资源分配图，如图 (a) 所示，化简后如图 (b) 所示。
> 
> ![](https://pic3.zhimg.com/v2-357651fddf6c2f396a7df4a84ba2b682_r.jpg)
> 
> 死锁检测中的数据结构类似于银行家算法中的数据结构：
> 
> - 可用资源向量 Available，它表示了 m 类资源中每一类资源的可用数目。
> - 把不占用资源的进程（Available_i = 0）记入输出表中。
> - 从进程集合中找到一个 Request_i ≤ Work 的进程，做如下处理：①将其资源分配图简化，释放出资源，增加工作向量 Work 增加为 Work + Allocation_i。② 将它记入输出表中。
> - 若不能把所有进程都记入 L 表中，便表明系统状态的资源分配图是不可完全简化的。因此，该系统状态将发生死锁。
> 
> 很明显，不存在安全序列。
> 
> 本题选 A。
> 
> **方法二：资源分配表**
> 
> 根据题意，设资源为 R，画出资源分配表，如图 (c) 所示，在将表格转化为已分配资源、尚需资源、可用资源三栏的形式。进程 Pi 尚需资源 = 进程 Pi 资源最大需求 - 进程 Pi 已分配资源，可用资源 = 资源总数 - 所有进程已分配资源之和，如图 (d) 所示。
> 
> ![](https://pic1.zhimg.com/v2-9c596f5ecf4141339a94cc4baeb49e72_r.jpg)
> 
> 银行家算法中的数据结构类似于死锁检测中的数据结构。使用银行家算法，保证可用资源大于或等于某进行尚需资源，该进程可以输出到序列，并回收该进程已分配资源。若所有进程均可被输出到序列，则存在安全序列，该输出序列为安全序列，否则不存在安全序列。
> 
> 很明显，不存在安全序列。
> 
> 本题选 A。