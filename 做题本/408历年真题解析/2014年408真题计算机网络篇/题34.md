---
publish: true
tags: 
aliases: 
finished: true
title: 题34
created: "2024-11-21 06:44"
updated: "2024-11-21 07:40"
---
## 题34
### 题目
> [!question]+
> 某以太网拓扑及交换机当前转发表如下图所示，主机 00-e1-d5-00-23-a1 向主机 00-e1-d5-00-23-c1 发送 1 个数据帧，主机 00-e1-d5-00-23-c1 收到该帧后，向主机 00-e1-d5-00-23-a1 发送 1 个确认帧，交换机对这两个帧的转发端口分别是（ ）。
> 
> ![](https://pic4.zhimg.com/v2-785a9ae11bc19b3792a46f934075502f_r.jpg)
> 
> A. {3} 和 {1}
> 
> B. {2,3} 和 {1}
> 
> C. {2,3} 和 {1,2}
> 
> D. {1,2,3} 和 {1}
### 解
> [!done]+
> 本题考察[[交换机]]自学习和转发帧的相关知识，其一般步骤如下：
> 
> 自学习：以太网收到一帧后先进行自学习。查找转发表最后与收到帧的源地址有无匹配的项。如果没有，就在转发表中增加一个项（包括源地址，进入端口的口和时间）；如果有，就把原来的项进行更新。
> 
> 转发帧：查找转发表中与收到帧的目的地址有无想匹配的项。**如果没有，则通过除进入交换机的端口外的所有其他端口进行转发**；如果有，则按照转发表中给出的端口进行转发，但要注意，如果转发表在给出的端口就是该帧进入交换机的端口，则应该丢弃该帧（因为此时无需经过交换机进行转发）。
> 
> 下面对本题进行逐步分析：
> 
> 初始时，交换机的转发表为：
> 
> <table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><td>目的地址</td><td>端口</td></tr><tr><td>00-e1-d5-00-23-b1</td><td>2</td></tr></tbody></table>
> 
> 主机 00-e1-d5-00-23-a1 向主机 00-e1-d5-00-23-c1 发送 1 个数据帧，数据帧进入交换机后，交换机通过自学习记录该帧的源 MAC 地址进入交换机的[[端口号]]，更新转发表后如下：
> 
> <table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><td>目的地址</td><td>端口</td></tr><tr><td>00-e1-d5-00-23-b1</td><td>2</td></tr><tr><td>00-e1-d5-00-23-a1</td><td>1</td></tr></tbody></table>
> 
> 查找目的地址为 00-e1-d5-00-23-c1 的项发现不存在，此时将该帧通过除进入交换机的端口（这里为端口 1）外的所有其他端口进行转发，即通过端口 2 和端口 3 进行转发。
> 
> 主机 00-e1-d5-00-23-b1 收到该帧后，发现该帧目的 MAC 地址与自身 MAC 地址不一致，丢弃该帧。主机 00-e1-d5-00-23-c1 收到该帧后，发现该帧目的 MAC 地址与自身 MAC 地址一致，给主机 00-e1-d5-00-23-a1 发送确认帧，确认帧进入交换机后，交换机通过自学习记录该确认帧的源 MAC 地址进入交换机的端口号，更新转发表后如下：
> 
> <table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><td>目的地址</td><td>端口</td></tr><tr><td>00-e1-d5-00-23-b1</td><td>2</td></tr><tr><td>00-e1-d5-00-23-a1</td><td>1</td></tr><tr><td>00-e1-d5-00-23-c1</td><td>3</td></tr></tbody></table>
> 
> 查找目的地址为 00-e1-d5-00-23-a1 的项发现存在，于是交换机根据该项端口 1 进行明确转发。
> 
> 综上所述，交换机对着两个帧的转发端口分别是 {2,3} 和 {1}。
> 
> 本题选 B。