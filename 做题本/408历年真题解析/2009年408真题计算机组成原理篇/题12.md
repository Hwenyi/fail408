---
publish: true
tags: 
aliases: 
finished: true
title: 题12
created: "2024-11-21 06:38"
updated: "2024-11-21 07:40"
---
## 题12
### 题目
> [!question]+
> 一个 C 语言程序在一台 32 位机器上运行。程序中定义了三个变量 x、y 和 z，其中 x 和 z 为 int 型，y 为 short 型。当 x = 127，y = -9 时，执行赋值语句 z = x+y 后，x、y 和 z 的值分别是（ ）。
> 
> A. x = 0000007FH，y = FFF9H，z = 00000076H
> 
> B. x = 0000007FH，y = FFF9H，z = FFFF0076H
> 
> C. x = 0000007FH，y = FFF7H，z = FFFF0076H
> 
> D. x = 0000007FH，y = FFF7H，z = 00000076H
### 解
> [!done]+
> C 语言程序整型用[[补码]]表示
> 
> **方法一：直接计算**
> 
> int 为 32 位有符号整型，取值范围为 $-2^{31} \sim 2^{31}-1$ 。short 为 16 位有符号短整型，最高位为符号位，表示范围为 $-2^{15} \sim 2^{15}-1$ ，即 $-32768 \sim 32767$ 。x 和 z 为 int 型，y 为 short 型，执行赋值语句 z = x+y，先将 y 转为 int，y 的值不变。
> 
> 先计算 x，x 为 int 型且 x = 127， $\rm 127=128-1=2^7-1=111\,1111B=7FH$ ，x 为正数，符号扩展补齐至 32 位，高位补 0，[x] 补 = 0000007FH。
> 
> 再计算 y，y 为 short 型且 y = -9，-9 原码为 1000 0000 0000 1001B，符号位不变其余位取反再加一，得 [y] 补 =1111 1111 1111 0111B = FFF7H。
> 
> 最后计算 z，z = x+y = 127-9=118，显然 $\rm -32768\le 118\le 32767$ ，118 = 111 0110B = 76H，z 为正数，符号扩展补齐至 32 位，高位补 0，[z] 补 = 00000076H。也可以用补码计算，y 转 int，y 为负数，符号扩展补齐至 32 位，高位补 1，[y] 补 = FFFFFFF7H，[z] 补 = [x+y] 补 = [x] 补 + [y] 补 = 0000007FH + FFFFFFF7H = 00000076H。
> 
> 本题选 D。
> 
> **方法二：观察选项**
> 
> 四个选项 x 相同，观察 z，z = x+y = 127 - 9 = 118 为正数，最高位符号位为 0，排除 B 和 C，最后只需要将 y 转补码就行。
> 
> 本题选 D。
> 
> **举一反三**
> 
> 一个 C 语言程序在一台 32 位机器上运行。程序中定义了三个变量 x、y 和 z，其中 x 和 y 为 int 型，z 为 short 型。当 x = -32768，y = -9 时，执行赋值语句 z = x+y 后，x、y 和 z 的值分别是（ ）。
> 
> 参考答案：x = FFFF8000H，y = FFFFFFF7H，z = 7FF7H