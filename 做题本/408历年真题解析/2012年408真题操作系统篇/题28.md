---
publish: true
tags: 
aliases: 
finished: true
title: 题28
created: "2024-11-21 06:41"
updated: "2024-11-21 07:40"
---
## 题28
### 题目
> [!question]+
> 若一个用户进程通过 read 系统调用读取一个磁盘文件中的数据，则下列关于此过程的叙述中，正确的是（ ）。
> 
> Ⅰ. 若该文件的数据不在内存中，则该进程进入睡眠等待状态
> 
> Ⅱ. 请求 read 系统调用会导致 CPU 从用户态切换到核心态
> 
> Ⅲ. read 系统调用的参数应包含文件的名称
> 
> A. 仅 Ⅰ、Ⅱ
> 
> B. 仅 Ⅰ、Ⅲ
> 
> C. 仅 Ⅱ、Ⅲ
> 
> D. Ⅰ、Ⅱ 和 Ⅲ
### 解
> [!done]+
> Ⅰ 正确。若该文件的数据不在内存中，产生中断，该进程暂时进入睡眠等待状态（阻塞态）。这是因为操作系统需要将磁盘中的数据加载到内存中，这个过程可能需要一定的时间。当数据准备好后，操作系统会通知进程，使其从睡眠状态转变为可执行状态（就绪态），并继续执行读取操作。
> 
> Ⅱ 正确。请求 read 系统调用会导致 CPU 从用户态切换到核心态。
> 
> Ⅲ 错误。read 系统调用的参数应包含文件的描述符 (file descriptor)，而不是文件的名称。read 系统调用是用于从文件描述符 (file descriptor) 读取数据的操作。其参数包括：
> 
> 1. 文件描述符 (file descriptor) ：read 系统调用的第一个参数是标识要读取的文件的文件描述符。文件描述符是一个非负整数，由操作系统分配给打开的文件。通常，0 表示标准输入 (stdin)，1 表示标准输出 (stdout)，2 表示标准错误 (stderr)，而其他大于 2 的整数表示其他打开的文件。
> 2. 缓冲区 (buffer)：read 系统调用的第二个参数是指向用于存储读取数据的缓冲区的指针。读取的数据将被复制到该缓冲区中。缓冲区可以是一个字符数组或者任意类型的指针。
> 3. 大小 (size)：read 系统调用的第三个参数是指定要读取的字节数。它表示缓冲区的大小，read 系统调用将尝试从文件中读取指定数量的字节，并将其存储到缓冲区中。
> 
> 读取操作的返回值是一个整数，表示实际读取的字节数。如果读取成功，返回值将是大于等于 0 的值；如果达到文件末尾，返回值将是 0；而如果发生错误，返回值将是 - 1，并且错误码会被设置以指示特定的错误类型。
> 
> 综上，仅 Ⅰ、Ⅱ 正确。
> 
> 本题选 A。