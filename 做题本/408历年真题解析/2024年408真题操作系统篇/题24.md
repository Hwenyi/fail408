---
publish: true
tags: 
aliases: 
finished: true
title: 题24
created: "2024-11-21 07:32"
updated: "2024-11-21 07:40"
---
## 题24
### 题目
> [!question]+
> 下列选项中，操作系统在终止进程时不一定执行的是
> 
> A. 终止子进程
> 
> B. 回收分配的内存资源
> 
> C. 撤销进程 PCB
> 
> D. 回收进程占用的设备
### 解
> [!done]+
> 本题考察进程的概念。进程是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配的基本单位，是操作系统结构的基础。
> 
> [[进程]]终止时，[[操作系统]]会回收分配给该进程的资源。
> 
> 当发生了[[终止]]事件后，操作系统便会调用终止[[原语]]，按下面步骤终止进程：
> 
> 1. **检索 [[进程控制块|PCB]] 并获取其状态信息**：根据被终止进程的标识符，从 PCB 集合中检索出该进程的 PCB，并从该进程的 PCB 中读取该进程的状态。
> 2. **[[终止进程]]并更新调度标志**：若被[[终止]]的[[进程]]正处于执行状态，则立即终止该进程的执行，并置调度标志为真，以指示该进程被终止后应重新进行调度。
> 3. **终止子孙进程**：若该进程存在子孙[[进程]]，则还应终止其所有子孙进程，以防止它们成为不可控的进程。
> 4. **归还资源** ：将被终止的进程所拥有的所有资源归还其父进程，或者归还给系统。
> 5. **将 PCB 从队列移出** ：将被终止进程的 PCB 从所在队列（或链表）中移出，等待其它程序来搜集信息。
> 
> A 不一定执行。子[[进程]]是由一个现存的进程创建的新进程。在 Unix 和类 Unix 系统中，这是通过调用 fork() [[系统调用]]来完成的。子进程将复制父进程的[[内存]]映像，包括代码段、数据段和堆栈。但注意，父进程和子进程并不共享内存，父进程可以通过 wait() [[原语]]等待子进程的执行完毕。当一个父进程终止时，它并不会自动[[终止]]其创建的子进程，子进程通常会继续运行。父进程可以在子进程执行的过程中被强制终止，但是这种情况可能会导致一些后续的问题，比如子进程成为孤儿进程（没有父进程的进程），并且子进程的结束状态可能需要由其他进程来处理。
> 
> B 一定执行。在终止进程时，操作系统必定会进行回收分配的内存资源，以防止内存泄漏和资源浪费。
> 
> C 一定执行。在终止进程时，操作系统需要撤销进程管理的 PCB (Process Control Block)，确保释放该进程的管理信息，包括状态、标识符、优先级等。
> 
> D 一定执行。在终止进程时，操作系统会回收进程占用的设备，以便其他进程可以使用。
> 
> 本题选 A。