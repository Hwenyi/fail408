---
publish: true
tags: 
aliases: 
finished: true
title: 题38
created: "2024-11-21 07:27"
updated: "2024-11-21 07:40"
---
## 题38
### 题目
> [!question]+
> 假设主机甲和主机乙已建立一个 TCP 连接，最大段长 MSS=1 KB，甲一直有数据向乙发送，当甲的拥塞窗口为 16 KB 时，计时器发生了超时，则甲的拥塞窗口再次增长到 16 KB 所需要的时间至少是（ ）。
> 
> A. 4 RTT
> 
> B. 5 RTT
> 
> C. 11 RTT
> 
> D. 16 RTT
### 解
> [!done]+
> 发送方维持一个拥塞窗口 (congestion window, cwnd)，拥塞窗口的大小取决于网络的拥塞程度，并且动态地变化。发送方让自己的发送窗口等于拥塞窗口。
> 
> 发送方控制拥塞窗口的原则是：只要网络没有出现拥塞，拥塞窗口就再增大一些，以便把更多的分组发送出去。但只要网络出现拥塞，拥塞窗口就减小一些，以减少注入到网络中的分组数。
> 
> 最大报文段长度 (maximum segment size, MSS) 是 TCP 协议的一个选项，用于在 TCP 连接建立时，收发双方协商通信时每一个报文段所能承载的最大数据长度（不包括报文段头）。
> 
> **慢开始算法**
> 
> 开始时，将拥塞窗口设置为一个 MSS 的数值，每收到一个对新的报文段的确认后，把拥塞窗口增加至多一个 MSS 的数值。可以分析出，每经过一个传输轮次 (transmission round)，拥塞窗口大小加倍，逐渐增大到拥塞窗口的数值，一个传输轮次所经历的时间就是一个往返时间 RTT。
> 
> **拥塞避免算法**
> 
> 每经过一个往返时间将发送方的窗口加 1。只要发送方判断网络出现拥塞，就将慢开始门限 ssthresh 设置为出现拥塞时发送方窗口值的一半，然后执行慢开始算法。
> 
> 在本题中，在 cwnd = 16 KB 时出现超时，发送方判断网络出现拥塞，就将慢开始门限 ssthresh 设置为 cwnd/2 = 8 KB，然后执行慢开始算法。重新设置 cwnd = 1 MSS = 1 KB。
> 
> 假设传输过程中，网络没有出现拥塞。
> 
> 第 1 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小的两倍，即调整 cwnd = 2 KB。
> 
> 第 2 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小的两倍，即调整 cwnd = 4 KB。
> 
> 第 3 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小的两倍，即调整 cwnd = 8 KB。此时 cwnd 到达慢开始门限 ssthresh 值，转而是使用拥塞避免算法。
> 
> 第 4 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 9 KB。
> 
> 第 5 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 10 KB。
> 
> 第 6 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 11 KB。
> 
> 第 7 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 12 KB。
> 
> 第 8 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 13 KB。
> 
> 第 9 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 14 KB。
> 
> 第 10 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 15 KB。
> 
> 第 11 个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1 MSS，即调整 cwnd = 16 KB。
> 
> 该过程示意图如下：
> 
> ![](https://pica.zhimg.com/v2-7bb31ebf59b0cc31eb574cee797f4be8_r.jpg)
> 
> 若网络出现拥塞，则需要更多传输轮次，因此，甲的拥塞窗口再次增长到 16 KB 所需要的时间至少是 11 RTT。
> 
> 本题选 C。