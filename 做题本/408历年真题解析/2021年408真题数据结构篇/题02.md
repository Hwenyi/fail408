---
publish: true
tags: 
aliases: 
finished: true
title: 题02
created: "2024-11-21 07:26"
updated: "2024-11-21 07:40"
---
## 题02
### 题目
> [!question]+
> 已知初始为空的队列 Q 的一端仅能进行入队操作，另外一端既能进行入队操作又能进行出队操作。若 Q 的入队序列是 1, 2, 3, 4, 5，则不能得到的出队序列是（ ）。
> 
> A. 5, 4, 3, 1, 2
> 
> B. 5, 3, 1, 2, 4
> 
> C. 4, 2, 1, 3, 5
> 
> D. 4, 1, 3, 2, 5
### 解
> [!done]+
> **方法一：模拟（栈 + 队列）**
> 
> 初始为空的队列的一端仅能进行入队操作，另外一端既能进行入队操作又能进行出队操作，这是一个输出受限的双端队列，当然命题组为了降低难度，没有给出专业术语，根据描述就知道如何操作，这样就是一个一个模拟。
> 
> 当然，由于这个双端队列两断都能操作，模拟难度极大，这时候我们需要进行简化。
> 
> 简化思路一：既能进行入队操作又能进行出队操作的一端视为一个完整的栈，仅能进行入队操作的一端用于插入元素。即简化为**栈 + 插入。**
> 
> 栈是**先进后出**的数据结构，如果所有元素入栈后出栈，得到的是输入序列的逆序序列。
> 
> 简化思路二：仅能进行入队操作的一端视为队列的尾部，既能进行入队操作又能进行出队操作的一端中具有出队功能视为队列的头部，这样得到一个完整的队列，既能进行入队操作又能进行出队操作的一端中具有入队功能用于插入元素。即简化为**队列 + 插入。**
> 
> 队列是**先进先出**的数据结构，得到的是输出序列与输入序列一致。
> 
> 为了方便下面表述，仅能进行入队操作的一端称为 A 端，既能进行入队操作又能进行出队操作的一端称为 B 端。
> 
> 已知入队序列 1, 2, 3, 4, 5 为一个单调递增序列，如果命题组加大难度可以给乱序序列，这时候需要转化为下标序列。
> 
> 由于这道题难度在 2010 年第 2 题的基础上有提升，不一定所有元素都入队后在进行出队操作，入队出队操作可以交替进行，但仍然可以简化为**栈 + 队列**。如图 (a) 所示。
> 
> 栈部分的子序列先出队，形成一个出栈子序列，队列部分的子序列后出队，形成一个出队子序列。如图 (b) 所示。
> 
> ![](https://pic4.zhimg.com/v2-afd168e174c511aee0e3c861e51aefe7_r.jpg)
> 
> 下面依次观察四个选项。
> 
> 观察选项 A： 5, 4, 3, 1, 2，其中 1, 2 构成了一个出队子序列，将 5, 4, 3, 1, 2 分成两段， 3, 4, 5 从 B 端入队，1, 2 从 A 端入队。整体顺序如下：
> 
> 1 从 A 端入队→2 从 A 端入队→3 从 B 端入队→4 从 B 端入队→5 从 B 端入队→5 从 B 端出队→4 从 B 端出队→3 从 B 端出队→1 从 B 端出队→2 从 B 端出队
> 
> A 正确。
> 
> 观察选项 B：5, 3, 1, 2, 4，其中 1, 2, 4 构成了一个出队子序列，将 5, 3, 1, 2, 4 分成两段，3, 5 从 B 端入队，1, 2, 4 从 A 端入队。整体顺序如下：
> 
> 1 从 A 端入队→2 从 A 端入队→3 从 B 端入队→4 从 A 端入队→5 从 B 端入队→5 从 B 端出队→3 从 B 端出队→1 从 B 端出队→2 从 B 端出队→4 从 B 端出队
> 
> B 正确。
> 
> 观察选项 C：4, 2, 1, 3, 5，其中 1, 3, 5 构成了一个出队子序列，将 4, 2, 1, 3, 5 分成两段，2, 4 从 B 端入队，1, 3, 5 从 A 端入队。
> 
> 整体顺序如下：
> 
> 1 从 A 端入队→2 从 B 端入队→3 从 A 端入队→4 从 B 端入队→5 从 A 端入队→4 从 B 端出队→2 从 B 端出队→1 从 B 端出队→3 从 B 端出队→5 从 B 端出队
> 
> C 正确。
> 
> 用排除法，可知 D 错误。
> 
> 观察选项 D：4, 1, 3, 2, 5，其中 2, 5 构成了一个出队子序列，将 4, 1, 3, 2, 5 分成两段，2, 5 从 B 端入队，1, 3, 4 从 A 端入队，但 1, 3, 4 的入栈序列无法形成 4, 1, 3 的出栈序列，错误。
> 
> 本题选 **D**。
> 
> 当然，本题的模拟方法不唯一，但其它模拟方法相对复杂，不推荐使用。