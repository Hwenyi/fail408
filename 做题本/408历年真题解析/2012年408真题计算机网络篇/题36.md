---
publish: true
tags: 
aliases: 
finished: true
title: 题36
created: "2024-11-21 06:42"
updated: "2024-11-21 07:40"
---
## 题36
### 题目
> [!question]+
> 两台主机之间的数据链路层采用后退 N 帧协议 (GBN) 传输数据，数据传输速率为 16 kbps，单向传播时延为 270 ms，数据帧长度范围是 128~512 字节，接收方总是以与数据帧等长的帧进行确认。为使信道利用率达到最高，帧序号的比特数至少为（ ）。
> 
> A. 5
> 
> B. 4
> 
> C. 3
> 
> D. 2
### 解
> [!done]+
> 在后退 N 帧协议 (GBN) 中，发送方可以发送 N 个帧而无需等待确认。从发送方发送一个数据帧到发送方接收到接收方传来的确认帧为一个周期。
> 
> 发送方发送一个数据帧的时延为 $t_1$ ，传播时延为 $\tau=270 \text{ ms}$ ，接收方发送一个确认帧的时延为 $t_2$ ，因为接收方总是以与数据帧等长的帧进行确认，所以 $t_1=t_2$ ，传播时延为 $\tau=270 \text{ ms}$ 。一个周期 $T=t_1+\tau+t_2+\tau = 2t_1+2\tau$ 。因为数据链路层采用后退 N 帧协议 (GBN) 传输数据，为使信道利用率达到最高，在一个周期内，发送方可以连续发送多个数据帧，将位于发送窗口中的帧全部发送出去。
> 
> 根据题目条件，数据传输速率为 16 kbps，该数据数据传输速率过低，不属于正常的以太网传播速率范围，属于卫星链路数据传输速率范围，卫星链路的数据传输速率通常在几 kbps 到 十几 kbps 之间，卫星链路支持全双工通信，即通信双方可以同时发送和接收数据。在 408 真题中，后退 N 帧协议 (GBN) 中默认采用全双工通信，即通信双方可以同时发送和接收数据。
> 
> 一个周期内能发送的帧数为 $\displaystyle{\frac{T}{t_1} = \frac{2t_1+2\tau}{t_1} = 2(1+\frac{\tau}{t_1})}$ ，题目要求帧序号的比特数至少为多少需要满足所有情况，即满足最坏情况。 在 $\tau$ 固定的情况下， $t_1$ 越小，可发送的帧数越大。因为 $t_1 = l/C$ ，其中 $l$ 为数据帧长度，范围是 128~512 字节， $C$ 是数据传输速率，为 16 kbps， $l$ 越小， $t_1$ 越小，取 $l = 128 \text{ B}$ ，此时 $\displaystyle{t_1=\frac{l}{C}=\frac{128 \text{ B}}{16\text{ kbps}}=\frac{128\times8 \text{ bit}}{16\times1000\text{ bit/s}} = 64\text{ ms}}$ 。因此一个周期内能发送的最大帧数为 $\displaystyle{\frac{T}{t_1}= \frac{2t_1+2\tau}{t_1}=2(1+\frac{\tau}{t_1})= 2(1+\frac{270\text{ ms}}{64\text{ ms}})\approx 10.4}$ 。
> 
> GBN 协议发送窗口大小 $W_T$ 满足 $1<W_T\le 2^n-1$ ，其中 $n$ 是构成帧序号的比特数量，将 $W_T=\lceil T/t_1\rceil =11$ 代入，解得 $n=4$ ，即帧序号的比特数至少为 4。
> 
> 本题选 B。