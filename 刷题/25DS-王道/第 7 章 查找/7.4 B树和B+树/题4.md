---
publish: true
tags:
  - 数据结构
  - 树
  - B树
  - 题目/选择题
  - 查找
  - 树/二叉树
  - 做错了
  - 定义
aliases: 
finished: true
title: 题4
created: 2024-08-30 20:56
updated: 2024-09-12 09:02
TARGET DECK: 刷题::25DS-王道::第 7 章 查找::7.4 B树和B+树::题4
---
## 题4
### 题目
Q:在一棵 $m$ 阶 B 树中做插入操作前，若一个结点中的关腱字个数等于 ( ) , 则插入操作后必须分裂成两个结点; 
在一棵 $m$ 阶 $B$ 树中做删除操作前,若一个结点中的关键字个数等于 ( ) ,则删除操作后可能需要同它的左兄弟或右兄弟结点合并成一个结点.
A. $m,\lceil m/2\rceil  - 2$ 
B. $m - 1,\lceil m/2\rceil  - 1$ 
C. $m + 1,\lceil m/2\rceil$ 
D. $m/2,\lceil m/2\rceil  +1$
### 分析
A:每个结点中**最多**可以容纳的关键字个数为 $m - 1$, 插入操作前若一个结点中的关键字个数等于 $m - 1$, 则插入操作后必须分裂成两个结点
关键字的数量问题，在[[刷题/25DS-王道/第 7 章 查找/7.4 B树和B+树/题7]]中也有涉及
B树的操作分为两步
第一步是判断删除的是否是叶子结点，如果是叶子结点，那么直接删除，如果不是叶子结点，就来到第二步
第二步，找到删除的关键字的前驱或者后继，它在B树中，一定是叶子结点，问题转化为第一步的操作，[是一个递归](https://www.bilibili.com/video/BV1JU411d7iY?t=164.4&p=20)，然后替换删除的关键字，这和[[二叉排序树-aw]]的删除操作是类似的，也就是要找左子树的最大值或者右子树的最小值
![](https://img.hwenyi.tech/202409121657951.webp)
因为每个结点至少有 $\lceil m/2\rceil$ 个关键字，删除操作前若一个结点中的关键字个数等于 $\lceil m/2\rceil-1$ ,则删除操作后可能需要同它的左兄弟或右兄弟结点合并成一个结点，也就是下溢出
### 解
B
由于 $\mathrm{B}$ 树每个结点内的关键字个数最多为 $m - 1$ ,所以当关键字个数大于 $m - 1$ 时,则应该分裂。
每个结点内的关键字个数至少为 $\lceil m/2\rceil  - 1$ 个,所以当关键字个数少于 $\lceil m/2\rceil  - 1$ 时,则可能与其他结点合并 (除非只有根结点)。
若将本题题干改为 $\mathrm{B} +$ 树,请读者思考上述问题的解答。


