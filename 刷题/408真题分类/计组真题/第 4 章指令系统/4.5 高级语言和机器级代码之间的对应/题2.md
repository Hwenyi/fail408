---
publish: true
tags: 
aliases: 
finished: true
title: 题2
created: "2024-11-10 08:39"
updated: "2024-12-04 10:58"
---
## 题2
### 题目
【2019】已知 `f(n) = n! = n × (n - 1) × (n - 2) × ⋯ × 2 × 1`,计算 `f(n)` 的C语言函数 `f1` 的源程序 (阴影部分) 及其在 32 位计算机 `M` 上的部分机器级代码如下:

![](https://img.hwenyi.tech/202411101657582.webp)

其中, 机器级代码行包括行号、虚拟地址、机器指令和汇编指令, 计算机 M 按字节编址, int 型数据占 32 位。请回答下列问题:

1. 计算 `f(10)` 需要调用函数 `f1` 多少次? 执行哪条指令会递归调用 `f1` ?
2. 上述代码中, 哪条指令是条件转移指令?哪几条指令一定会使程序跳转执行?
3. 根据第 16 行的 `call` 指令, 第 17 行指令的虚拟地址应是多少? 已知第 16 行的 `call` 指令采用 相对寻址方式, 该指令中的偏移量应是多少 (给出计算过程)? 已知第 16 行的 `call` 指令的后 4 字节为偏移量, M 是采用大端方式还是采用小端方式?
4. `f(13) = 6227020800`,但 `f1(13)` 的返回值为1932053504,为什么两者不相等?要使 `f1(13)` 能返回正确的结果, 应如何修改 `f1` 的源程序?
5. 第 19 行的 `imul` 指令 (有符号整数乘) 的功能是 `R[eax] ← R[eax] × R[ecx]`,当乘法器输出的高、低 32 位乘积之间满足什么条件时, 溢出标志 `OF=1`?要使 CPU 在发生溢出时转异常处理, 编译器应在 `imul` 指令后加一条什么指令?
### 分析
[[刷题/25计组-王道/第 4 章 指令系统/综合题/题2]]
### 解
[[刷题/408历年真题解析/2019年408真题计算机组成原理篇/题45]]