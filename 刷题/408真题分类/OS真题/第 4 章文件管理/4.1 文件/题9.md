---
publish: true
tags: []
aliases: 
finished: true
title: 题9
created: 2024-11-05 23:11
updated: 2024-11-08 09:10
TARGET DECK: 刷题::408真题分类::OS真题::第 4 章文件管理::4.1 文件::题9
error: true
---
## 题9
### 题目
Q:【2015 统考真题】在文件的索引节点中存放直接索引指针 10 个, 一级和二级索引指针各 1 个。
磁盘块大小为 $1\mathrm{{KB}}$ ,每个索引指针占 $4\mathrm{\;B}$ 。
若某文件的索引节点已在内存中，则把该文件偏移量（按字节编址）为 1234 和 307400 处所在的磁盘块读入内存，需访问的磁盘块个数分别是 ( ) 。
A. $1,2$ 
B. $1,3$
C. $2,3$ 
D. $2,4$
### 分析
A:考虑的是文件偏移量对应的部分，也就是对应的小块儿，是在索引节点的第几级，和[[刷题/408真题分类/OS真题/第 4 章文件管理/4.1 文件/题3]]对比
![](https://img.hwenyi.tech/202411081719963.webp)
### 解
【参考答案】B
【解析】一个磁盘块大小为1KB，一个索引指针大小为4B，一个磁盘块可存放的索引指针数量为：$N = \frac{1024}{4} = 256$，一个直接索引指针指向一个1KB的数据块，一个一级索引指针指向的磁盘块里存放了256个直接索引指针，对应的数据块大小为：$256 \times 1KB = 256KB$，一个二级索引指针指向的磁盘块里存放了256个一级索引指针，对应的数据块大小为：$256 \times 256 \times 1KB = 64MB$。因为是按照字节编址的，所以偏移量1234指的是$1234B$，$1234B < 10KB$，说明偏移量为1234所处的磁盘块在直接索引指向的磁盘块中，而题目中已经指明文件的索引节点已在内存中，只需要根据直接索引指针找到对应的磁盘块即可，所以只需要访盘1次。同理，偏移量307400即$307400B$，$10KB+256KB < 307400B < 10KB+256KB+64MB$，说明偏移量为307400所处的磁盘块在二级索引指向的磁盘块中，根据二级索引指针得到一级索引指针，再根据一级索引指针得到直接索引指针，直接索引地址即文件所在磁盘块地址，再根据文件所在磁盘块地址得到要找的磁盘块，总共需要访盘3次。
