## 题13
### 题目
【2019 统考真题】系统采用二级反馈队列调度算法进行进程调度。
就绪队列 ${{Q}}_{1}$ 采用时间片轮转调度算法,时间片为 ${10}{\;{ms}}$ 
就绪队列 ${{Q}}_{2}$ 采用短进程优先调度算法; 
系统优先调度 ${{Q}}_{1}$ 队列中的进程,当 ${{Q}}_{1}$ 为空时系统才会调度 ${{Q}}_{2}$ 中的进程; 
新创建的进程首先进入 ${{Q}}_{1}$
${{Q}}_{1}$ 中的进程执行一个时间片后,若未结束,则转入 ${{Q}}_{2}$ . 
若当前 ${{Q}}_{1},{{Q}}_{2}$ 为空,系统依次创建进程 ${{P}}_{1},{{P}}_{2}$ 后即开始进程调度, ${{P}}_{1},{{P}}_{2}$ 需要的 CPU 时间分别为 ${30}{\;{ms}}$ 和 ${20}{\;{ms}}$ ,则进程 ${P}_{1},{P}_{2}$ 在系统中的平均等待时间为 ( ) 。
A. ${25}\mathrm{\;{ms}}$ 
B. ${20}\mathrm{\;{ms}}$ 
C. ${15}\mathrm{\;{ms}}$ 
D. ${10}\mathrm{\;{ms}}$
### 分析
这里在队列二的时候，有先后顺序的，先进来的处理，后面的得等着，这一段时间注意不要算错了
![](https://img.hwenyi.tech/202411041817525.webp)
### 解
【参考答案】C
【解析】系统依次创建进程 P₁ 和 P₂ 后，二者依次进入到队列 Qi。按照时间片轮转调度算法，两个进程先后被分配一个时间片（10ms）时间运行。根据二级反馈队列调度算法的性质，在各自的时间片用完后，两个进程先后进入低队列。根据低队列采用的短进程优先调度算法，此时需要考虑两个进程的剩余执行时间（P₁ 剩余 20ms，P₂ 剩余 10ms）并选择 P₂ 进行调度，P₂ 运行结束后，调度 P₁。具体时间节点为：① 1ms 到 10ms 执行 P₁；② 11ms 到 20ms 执行 P₂；③ 21ms 到 30ms 执行 P₂；④ 31ms 到 50ms 执行 P₁。P₁ 等待时间为 20ms（11ms 到 30ms）；P₂ 等待时间为 10ms（1ms 到 10ms）。平均等待时间为（20ms + 10ms）/2 = 15ms，故选 C。

