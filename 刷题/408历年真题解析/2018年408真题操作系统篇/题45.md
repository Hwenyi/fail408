---
publish: true
tags: 
aliases: 
finished: true
title: 题45
created: "2024-11-21 07:18"
updated: "2024-11-21 07:40"
---
## 题45
### 题目
> [!question]+
> （8 分）
> 
> 请根据题 44 图给出的虚拟存储管理方式，回答下列问题。
> 
> ![](https://img.hwenyi.tech/202412030252961.webp)
> 
> (1) 某虚拟地址对应的页目录号为 6，在相应的页表中对应的页号为 6，页内偏移量为 8，该虚拟地址的十六进制表示是什么？
> 
> (2) 寄存器 PDBR 用于保存当前进程的页目录起始地址，该地址是物理地址还是虚拟地址？进程切换时，PDBR 的内容是否会变化？说明理由。同一进程的线程切换时，PDBR 的内容是否会变化？说明理由。
> 
> (3) 为了支持改进型 CLOCK 置换算法，需要在页表项中设置哪些字段？
### 解
> [!done]+
> (1) 根据题 44 图，地址总长度为 32 位，高 20 位为虚页号，低 12 位为页内地址。且虚页号高 10 位为页目录号，低 10 位为页表索引。某虚拟地址对应的页目录号为 6=0000000110B，在相应的页表中对应的页表索引为 6=0000000110B，页内偏移量为 8=000000001000B，拼接得到虚拟地址 $\underbrace{0000000110}_{\text{页目录号}} \underbrace{0000000110}_{\text{页表索引}}\underbrace{0000 0000 1000}_{\text{页内偏移量}}$ B = 0180 6008H。
> 
> (2) 第一问。寄存器 PDBR 用于保存当前进程的页目录起始地址是物理地址。每个进程都有自己的地址空间和页目录 (Page Directory Table, PDT)，页目录的物理地址由页目录基址地址寄存器 PDBR (Page Directory Base Register) 指定，每个进程的地址空间、页目录和 PDBR 的内容存在一一对应关系。
> 
> 第二问。进程切换时，进程和地址空间和页目录发生变化，对应的 PDBR 的内容也会变化。
> 
> 第三问。同一进程的线程切换时，进程和地址空间和页目录没有变化，PDBR 的内容也不会变化。
> 
> (3) 改进型 CLOCK 置换算法需要用到使用位和修改位，故需要设置访问字段（使用位）和修改字段（脏位）。