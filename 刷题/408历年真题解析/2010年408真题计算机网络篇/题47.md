---
publish: true
tags: 
aliases: 
finished: true
title: 题47
created: "2024-11-21 06:40"
updated: "2024-11-21 07:40"
---
## 题47
### 题目
> [!question]+
> （9 分）
> 
> 某局域网采用 CSMA/CD 协议实现介质访问控制，数据传输速率为 10 Mbps，主机甲和主机乙之间的距离为 2 km，信号传播速度是 200 000 km/s。请回答下列问题，要求说明理由或写出计算过程。
> 
> (1) 若主机甲和主机乙发送数据时发生冲突，则从开始发送数据时刻起，到两台主机均检测到冲突时刻止，最短需经过多长时间？最长需经过多长时间（假设主机甲和主机乙发送数据过程中，其他主机不发送数据）？
> 
> (2) 若网络不存在任何冲突与差错，主机甲总是以标准的最长以太网数据帧（1518 字节）向主机乙发送数据，主机乙每成功收到一个数据帧后立即向主机甲发送一个 64 字节的确认帧，主机甲收到确认帧后方可发送下一个数据帧。此时主机甲的有效数据传输速率是多少（不考虑以太网的前导码）？
### 解
> [!done]+
> (1) CSMA/CD 协议是一种介质访问控制协议，用于协调共享介质上的数据传输。当发送数据时发生冲突，发送的数据会立即停止，并执行退避算法，然后进行重传。
> 
> ![](https://pic3.zhimg.com/v2-4324036fa6e973c5ff5fc42a26bb7056_r.jpg)
> 
> 当主机甲和主机乙同时开始发送数据，才能使得它们从开始发送数据时刻起，在链路中点处发生冲突，到两台主机均检测到冲突时刻止，经过的时间最短。如图 (a) 所示。等价于信号从甲到乙的单程[[时延带宽积|传播时延]]。由于速度为 200 000 km/s，距离为 2 km，经过的时间 $\displaystyle{t_{\rm min}=\tau = \frac{s}{v}=\frac{2 \text{ km}}{200000 \text{ km/s}} = 10 \text{ μs}}$ 。
> 
> 当主机甲发送的数据经过 $\tau$ 时间传播无限接近于达到主机乙时，主机乙开始发送数据，此时立即发生冲突，主机乙立即检测到冲突，主机甲再经过 $\tau$ 时间检测到冲突。等价于信号从甲到乙的往返[[时延带宽积|传播时延]]。如图 (b) 所示。经过的时间 $t_{\rm max}=2\tau = 20 \text{ μs}$ 。
> 
> (2) 因为数据传输速率为 10 Mbps，所以主机甲发送一个标准的最长以太网数据帧（1518 字节）的发送时延为 $t_1 = 1518\text{ B }/ 10\text{ Mbps} = 1214.4\text{ μs}$ ，传播时延为 $\tau=10 \text{ μs}$ 。主机乙发送一个 64 字节的确认帧的发送时延为 $t_2 = 64\text{ B }/ 10\text{ Mbps} = 51.2 \text{ μs}$ ，传播时延为 $\tau=10 \text{ μs}$ 。总的时延为 $t_1+\tau+t_2+\tau = 1285.6 \text{ μs}$ 。一个以太网帧的传输过程如图 (c) 所示：
> 
> ![](https://pic4.zhimg.com/v2-768ca3552ba141d0a3e3ceeabd011421_r.jpg)
> 
> 以太网数据帧的格式为
> 
> ![](https://pic1.zhimg.com/v2-1b90603cf23dc03a904df80eb277e6c0_r.jpg)
> 
> 这里为最长以太网数据帧，数据载荷为 1500 B。如果记不住以太网数据帧数据段的长度，可以使用最长以太网数据帧减去除数据段外其他字段的长度得到，即 1518 B - 6 B - 6 B - 2 B - 4 B = 1500 B。
> 
> 有效数据传输速率 = 一个以太网帧的数据载荷 / 一个以太网帧的时延 = 1500 B / 1285.6 μs ≈ 9.33 Mbps。