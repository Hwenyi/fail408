---
publish: true
tags: 
aliases: 
finished: true
title: 题39
created: "2024-11-21 06:40"
updated: "2024-11-21 07:40"
---
## 题39
### 题目
> [!question]+
> 主机甲和主机乙之间已建立了一个 TCP 连接，TCP 最大段长度为 1000 字节。若主机甲的当前拥塞窗口为 4000 字节，在主机甲向主机乙连续发送两个最大段后，成功收到主机乙发送的第一个段的确认段，确认段中通告的接收窗口大小为 2000 字节，则此时主机甲还可以向主机乙发送的最大字节数是（ ）。
> 
> A. 1000
> 
> B. 2000
> 
> C. 3000
> 
> D. 4000
### 解
> [!done]+
> 本题考察 TCP 流量控制与拥塞控制。
> 
> 发送方的发送窗口的上限值要取接收方接收窗口和拥塞窗口这两个值中较小的一个。即
> 
> **发送方的发送窗口 = min{拥塞窗口, 接收方接收窗口}**
> 
> ![](https://pic4.zhimg.com/v2-b97de73b3483a5c5f101cbea99d293c7_r.jpg)
> 
> 初始时，假设发送方的发送窗口为当前拥塞窗口大小 4000 KB。并发送两个最大段长。如图 (a) 所示。
> 
> 当前拥塞窗口为 4000 字节，即 cwnd = 4000 KB。每个发送段为 1000 KB，当成功收到主机乙发送的第一个段的确认段后，发送窗口将已被确认的段移出，并继续向前移动 1000 KB，未被确认的已发送的第二段 1000 KB 仍停留在发送窗口中。
> 
> 确认段中通告的接收窗口大小为 2000 字节，即 rwnd = 2000 KB。此时调整发送方的发送窗口为 swnd = min{cwnd, rwnd} = min{4000 KB, 2000 KB} = 2000 KB。由于未被确认的已发送的第二段 1000 KB 仍停留在发送窗口中。如图 (b) 所示。
> 
> 还剩余 2000 KB - 1000 KB =1000 KB 可以发送。
> 
> 本题选 A。