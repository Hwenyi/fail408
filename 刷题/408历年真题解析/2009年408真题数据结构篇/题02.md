---
publish: true
tags: 
aliases: 
finished: true
title: 题02
created: "2024-11-21 06:39"
updated: "2024-11-21 07:40"
---
## 题02
### 题目
> [!question]+
> 设栈 $S$ 和队列 $Q$ 的初始状态均为空，元素 a, b, c, d, e, f, g 依次进入栈 $S$ 。若每个元素出栈后立即进入队列 $Q$ ，且 $7$ 个元素出队的顺序是 b, d, c, f, e, a, g，则栈 $S$ 的容量至少是（ ）。
> 
> A. 1
> 
> B. 2
> 
> C. 3
> 
> D. 4
### 解
> [!done]+
> **方法一：模拟**
> 
> 队列是先进先出的数据结构，队列不会改变序列的输出顺序，也就是出队序列即出栈序列。所以我们只需要考虑栈 $S$ 。
> 
> 出栈序列为 b, d, c, f, e, a, g，我们需要进行模拟。
> 
> 操作入栈入栈出栈入栈入栈出栈出栈入栈入栈出栈出栈出栈入栈出栈栈中元素输出序列$\begin{array}{c|c} 操作&栈中元素&输出序列\\ \hline \rm a入栈&\rm a&\\ \rm b入栈&\rm ab&\\ \rm b出栈&\rm a&\rm b\\ \rm c入栈&\rm ac&\rm b\\ \rm d入栈&\rm acd&\rm b\\ \rm d出栈&\rm ac&\rm bd\\ \rm c出栈&\rm a&\rm bdc\\ \rm e入栈&\rm ae&\rm bdc\\ \rm f入栈&\rm aef&\rm bdc\\ \rm f出栈&\rm ae&\rm bdcf\\ \rm e出栈&\rm a&\rm bdcfe\\ \rm a出栈&&\rm bdcfea\\ \rm g入栈&\rm g&\rm bdcfea\\ \rm g出栈&&\rm bdcfeag\\ \end{array}$
> 
> 栈中元素数量最大为 $3$ ，所以栈 $S$ 的容量至少是 $3$ 。
> 
> 本题选 **C**。
> 
> **方法二：推理**
> 
> 栈中元素数量 = 入栈元素数量 - 出栈元素数量
> 
> 假设下标从 1 开始。
> 
> 入栈序列下标$\begin{array}{c|c} 入栈序列&\rm a&\rm b&\rm c&\rm d&\rm e&\rm f&\rm g\\ \hline 下标&1&2&3&4&5&6&7 \end{array}$
> 
> 转化为下标的好处是方便比大小和计算。
> 
> 入栈元素数量即当前元素下标，出栈元素数量即已经出现在出栈序列中小于当前元素下标的元素数量。下面扫描出栈序列，假设扫描到的刚刚出栈的元素仍在栈中。
> 
> 统计已出栈且下标小于当前元素的元素下标时，需要观察下标栏，当前元素下标左侧为出栈元素的下标。
> 
> 出栈序列下标已出栈且下标小于当前元素的元素下标已出栈且下标小于当前元素的元素数量该元素出栈前栈中元素数量$\begin{array}{c|c} 出栈序列&\rm b&\rm d&\rm c&\rm f&\rm e&\rm a&\rm g\\ \hline 下标&2&4&3&6&5&1&7\\ \hline 已出栈且下标小于当前元素的元素下标&&\rm 2&\rm 2&\rm 2,4,3&\rm 2,4,3&&\rm 2,4,3,6,5,1\\\hline 已出栈且下标小于当前元素的元素数量&0&1&1&3&3&0&6\\\hline 该元素出栈前栈中元素数量&2&3&2&3&2&1&1 \end{array}$
> 
> 栈中元素数量最大为 $3$ ，所以栈 $S$ 的容量至少是 $3$ 。
> 
> 本题选 **C**。
> 
> **_举一反三_**
> 
> 设栈 S 和队列 Q 的初始状态均为空，元素 a, b, c, d, e, f, g, h 依次进入队列 Q。若每个元素出队后立即进入栈 S，且 8 个元素出栈顺序是 b, a, d, c, e, f, h, g，则栈 S 的容量至少是
> 
> A. 1
> 
> B. 2
> 
> C. 3
> 
> D. 4
> 
> 参考答案：B