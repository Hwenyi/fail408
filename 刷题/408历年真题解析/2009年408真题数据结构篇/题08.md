---
publish: true
tags: 
aliases: 
finished: true
title: 题08
created: "2024-11-21 06:39"
updated: "2024-11-21 07:40"
---
## 题08
### 题目
> [!question]+
> 下列叙述中，不符合 $m$ 阶 B 树定义要求的是（ ）。
> 
> A. 根结点最多有 $m$ 棵子树
> 
> B. 所有叶结点都在同一层上
> 
> C. 各结点内关键字均升序或降序排列
> 
> D. 叶结点之间通过指针链接
### 解
> [!done]+
> **方法一：B 树的基本概念**
> 
> B 树是一种平衡的多路查找树。这句话看起来非常简单，实际上信息量非常大，理解了这句话，才能对 B 树的性质有深度理解。下面本人对这句话进行拆解。
> 
> **I. 平衡**
> 
> 我们已经学过了很多平衡树，当然这里的平衡是广义的平衡，比如 AVL 树和红黑树，我们回忆一下它们的平衡分别是如何定义的：
> 
> - 在一棵 AVL 树中，每个结点的左右子树的高度之差的绝对值（平衡因子）最多为 1 。
> - 在一棵红黑树中，从某结点到其后代叶结点（在 408 真题中，叶结点为孩子结点为空结点的内部结点）的所有简单路径中，最长的一条路径长度至多为最短的一条路径长度的 2 倍加 1。该性质是红黑树的性质 4 和性质 5 的推论。
> 
> 那么 B 树中的平衡又是怎么样的呢？在一棵 B 树中，每个结点的任意两个子树的高度之差的绝对值（平衡因子）为 0 。结果就是在一棵 B 树中，所有的叶结点都在同一层。这条性质将在 B 树的定义的性质 5 中有所体现。
> 
> B 正确。
> 
> **II. 多路**
> 
> 路数指的是树中结点的分叉数，比如二叉树就是二路树，B 树是一棵多叉树，在 B 树中路数也称阶数，假设给定的一棵 $k$ 阶 B 树，则一定有 $k\ge 2$ ，当 $k = 2$ 时，B 树的效果就类似于二叉树。
> 
> A 正确。
> 
> **III. 查找**
> 
> 查找也可以翻译成搜索，即 B 树中的关键字时有序的，回忆一下二叉搜索树，也称二叉查找树，设 $x$ 是二叉搜索树中的一个结点。如果 $y$ 是 $x$ 左子树中的一个结点，那么 $y.\!key\le x.\!key$，如果 $y$ 是 $x$ 右子树中的一个结点，那么 $y.\!key\ge x.\! key$。通俗地说，从左往右遍历一棵二叉查找树，得到的序列是单调递增序列。严格地说，对二叉搜索树进行二叉树的中序遍历输出所有关键字的序列是单调递增序列。
> 
> 那么拓展到 B 树中又是什么样呢？类似二叉搜索树，设 $x$ 是 B 树中的一个关键字。如果 $y$ 是 $x$ 的前驱关键字，那么 $y<x$，如果 $y$ 是 $x$ 后继关键字，那么 $y>x$。通俗地说，从左往右遍历一棵 B 树，得到的序列是单调递增序列。严格地说，对 B 树进行 “中序遍历” 输出所有关键字的序列是单调递增序列。
> 
> 为了方便，我们采用环线法对 B 树进行 “中序遍历”，得到一个单调递增序列。为了方便，采用 2022 年真题第 8 题的图，给定一棵 5 阶 B 树如下图所示：
> 
> ![](https://pic4.zhimg.com/v2-4589cecdbe399c5df4d6b30e790f76ad_r.jpg)
> 
> 得到的单调递增序列为 $30, 50, 60, 70, 80, 85, 90, 100, 110, 260, 280, 300, 350, 400, 500$ 。
> 
> C 正确。
> 
> 通过排除法，本题选 D。
> 
> **方法二：B 树的定义**
> 
> 一棵$m$ 阶 B 树，或为空树，或为满足下列特性的$m$ 叉树：
> 
> 1. 树中每个结点至多有 $m$ 棵子树。
> 2. 若根结点不是叶结点，则至少有两棵子树。
> 3. 除根结点外的所有非叶结点至少有 $\lceil m/2\rceil$ 棵子树。
> 4. 所有非空结点包含下列信息数据 $(n, A_0, K_1, A_1, K_2, A_2,...,K_n, A_n)$ 。首先， $K_i$ 为关键字，其中 $i=1,2,...,n$ ，满足 $K_i < K_{i+1}$ ，其中 $i=1,2,...,n-1$ ；然后， $A_i$ 为指向子树根结点的指针，其中 $i=0,1,...,n$ ，满足 $A_{i-1}$ 所指向子树中所有结点的关键字均小于 $K_i$ 且 $A_i$ 所指向子树中所有结点的关键字均大于 $K_i$ ，其中 $i=1,2,...,n$ ；最后， $n$ 为该结点中的关键字个数，除根结点外的非空结点满足 $\lceil m/2\rceil - 1\le n \le m - 1$ ，根结点满足 $1\le n \le m - 1$ 。
> 5. 所有叶结点都出现在同一层上。
> 
> 根据性质 1，A 正确。
> 
> 根据性质 5，B 正确。
> 
> 根据性质 4，C 正确。
> 
> 通过排除法，本题选 D。
> 
> **方法三：B 树和** $\rm B^+$ **树的区别**
> 
> B 树中有 $n$ 个关键字的结点有 $n+1$ 课子树。$\rm B^+$ 树中每个关键字对应一棵子树。
> 
> $m$ 阶 B 树中非根内部结点关键字个数为 $\lceil m/2\rceil - 1\le n\le m-1$ ，根结点关键字个数为 $1\le n\le m-1$ 。$m$ 阶 $\rm B^+$ 树中非根内部结点关键字个数为 $\lceil m/2\rceil\le n\le m$ ，根结点关键字个数为 $2\le n\le m$ 。
> 
> B 树所有数据存放在非叶结点和叶结点中。$\rm B^+$ 树所有数据存放在叶结点，所以 $\rm B^+$ 树查询效率更稳定。
> 
> B 树只有父结点到孩子结点的指针，所以 B 树只支持从根结点开始的多路查找。 $\rm B^+$ 树所有叶结点点都使用指针顺序连接在一起，所以 $\rm B^+$ 树支持从根结点开始的多路查找和从最小关键字开始的顺序查找。
> 
> D 选项为 $\rm B^+$ 树的性质，不是 B 树性质。
> 
> 本题选 **D**。