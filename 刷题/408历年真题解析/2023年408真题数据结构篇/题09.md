---
publish: true
tags: 
aliases: 
finished: true
title: 题09
created: "2024-11-21 07:30"
updated: "2024-11-21 07:40"
---
## 题09
### 题目
> [!question]+
> 现有长度为 5 ，初始为空的散列表 HT，散列函数 $H(k)=(k + 4)\mod5$ ，用线性探查再散列法解决冲突。若将关键字序列 2022, 12, 25 依次插入 HT 中，然后删除关键字 25 ，则 HT 中查找失败的平均查找长度为（ ）。
> 
> A. 1
> 
> B. 1.6
> 
> C. 1.8
> 
> D. 2.2
### 解
> [!done]+
> 散列函数为 $H(k)=(k + 4) \mod 5$ ，处理冲突采用线性探测再散列法，依次填入关键字 2022, 12, 25。
> 
> 插入 $2022$ ， $H(20)=(2022+4) \mod 5=1$ ，此时槽位 $1$ 为空，直接插入。
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&&& \end{array}$
> 
> 插入 $12$ ， $H(12)=(12+4) \mod 5=1$ ，此时槽位 $1$ 被占据，发生冲突，执行冲突处理方法，这里为线性探测法，每次向右探索一个槽位，如果探测到达末尾，那么从第一个槽位开始继续探测，直到到达一个空槽位，然后插入。
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\ \hline key&&2022&&& \\ &&\times&\checkmark \end{array}$
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&& \end{array}$
> 
> 插入 $25$ ， $H(25)=(25+4) \mod 5=4$ ，此时槽位 $4$ 为空，直接插入。
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&25 \end{array}$
> 
> 删除 $25$ ，注意，线性探测再散列法属于开放寻址法，从运用[[开放定址法]]法的[[散列表]]中删除关键字比较困难。当我们从某槽位删除关键字时，不能简单地将槽位设置为 $\text{NIL}$，如果这样做，就会出现问题。所以需要为该槽位增加 $\text{DELETED}$ 标记，这里 $\text{DELETED}$ 简单记为 $\rm D$ 。
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D \end{array}$
> 
> 最后查找失败的[[ASL|平均查找长度]]。查找元素失败统计项数目与散列表槽位数和散列函数均有关。这里取$\min\{槽位数,散列地址数\} = \min\{5,5\}=5$。
> 
> 散列函数散列到槽位 $0$ 到 $4$ ，按照冲突处理方法，我们可以计算出每种情况查找失败需要的次数，即失败查找长度：
> 
> 散列到槽位 $0$ ：
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D\\&\checkmark \end{array}$
> 
> 散列到槽位 $1$ ：
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D\\&&\times&\times&\checkmark \end{array}$
> 
> 散列到槽位 $2$ ：
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D\\&&&\times&\checkmark \end{array}$
> 
> 散列到槽位 $3$ ：
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D\\&&&&\checkmark \end{array}$
> 
> 散列到槽位 $4$ ：
> 
> $\begin{array}{c|c} H(key)&0\ &1\ &2\ &3\ &4\ \\\hline key&&2022&12&&\rm D\\&\checkmark&&&&\times \end{array}$
> 
> 综上，所有情况查找失败需要的次数，即失败查找长度：
> 
> $\begin{array}{c|c} H(key)&0 &1&2 &3 &4 \\ \hline 次数&1 & 3& 2 & 1 & 2 \end{array}$
> 
> $\text{ASL}_{失败}=(1+3+2+1+2)/5=1.8$
> 
> 本题选 **C**。
> 
> 评：这道题综合考察了散列函数，冲突处理方法，开放寻址法的散列表中删除标记，以及平均失败查找长度。在 2010 年第 43 题的基础上继续加大难度。
> 
> 参考《算法导论》相关章节如下：
> 
> - [算法导论（第四版）第十一章：散列表　第四节：开放寻址法](https://zhuanlan.zhihu.com/p/557429105)
> 
> 本题难度：⭐️⭐️⭐️⭐️⭐️