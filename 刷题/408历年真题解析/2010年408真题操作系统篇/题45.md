---
publish: true
tags: 
aliases: 
finished: true
title: 题45
created: "2024-11-21 06:39"
updated: "2024-11-21 07:40"
---
## 题45
### 题目
> [!question]+
> （7 分）
> 
> 假设计算机系统采用 CSCAN（循环扫描）磁盘调度策略，使用 2KB 的内存空间记录 16384 个磁盘块的空闲状态。
> 
> (1) 请说明在上述条件如何进行磁盘块空闲状态的管理。
> 
> (2) 设某单面磁盘的旋转速度为 6000rpm，每个磁道有 100 个扇区，相邻磁道间的平均移动的时间为 1ms。若在某时刻，磁头位于 100 号磁道处，并沿着磁道号增大的方向移动（见下图），磁道号的请求队列为 50, 90, 30, 120，对请求队列中的每个磁道需读取 1 个随机分布的扇区，则读完这个扇区点共需要多少时间？需要给出计算过程。
> 
> ![](https://picx.zhimg.com/v2-38acb03ace5b3e9c77cd6b65d19d97cf_r.jpg)
> 
> (3) 如果将磁盘替换为随机访问的 Flash 半导体存储器（如 U 盘、SSD 等），是否有比 CSCAN 更高效的磁盘调度策略？若有，给出磁盘调度策略的名称并说明理由；若无，说明理由。
### 解
> [!done]+
> (1) 用位图表示磁盘块的空闲状态，每位表示一个磁盘块的空闲状态。若该位为 0，则该位对应的磁盘块空闲；若该位为 1，则该位对应的磁盘块不空闲。总共有 16384 个磁盘块，需要 16384bit = $2^{14}$ bit = 2KB 的内存空间。
> 
> (2) 初始时，磁头位于 100 号磁道处，沿着磁道号增大的方向移动，采用 [[循环扫描算法|CSCAN]]（循环扫描）磁盘调度策略，这里没有给出最小磁道号和最大磁道号，CSCAN 视为 [[CLOOK]]，磁道号的请求队列为 50, 90, 30, 120，模拟过程如下：
> 
> ![](https://pic1.zhimg.com/v2-1d26b70893cf02d666c879a2885f05a0_r.jpg)
> 
> 访问序列为：120, 30, 50, 90，总体分三段，第一段 100 号磁道处移动到 120 号磁道处，移动磁道数为 120-100=20，第二段 120 号磁道处移动到 30 号磁道处，移动磁道数为 120-30=90，第三段 30 号磁道处移动到 90 号磁道处，移动磁道数为 90-30=60，总的移动磁道数为 20+90+60=170。相邻磁道间的平均移动的时间为 1ms。所以磁道移动时间为 170×1ms=170ms。
> 
> 磁盘转速为 6000rpm=100r/s，每访问一个扇区的平均旋转延迟时间为 1/(2×100r/s)=5ms，需要访问 4 个扇区，总计旋转延迟时间为 5ms×4=20ms。
> 
> 每个磁道有 100 个扇区，所以一个扇区占 0.01r，读取一个扇区时间为 0.01r/(100r/s)=0.1ms，需要访问 4 个扇区，总计磁盘读取时间为 0.1ms×4=0.4ms。
> 
> 访问这些扇区时间 = 磁道移动时间 + 旋转延迟时间 + 磁盘读取时间 = 170ms+20ms+0.4ms=190.4ms。
> 
> (3) 如果将磁盘替换为随机访问的 Flash 半导体存储器，则不需要考虑磁盘寻道时间和旋转延迟时间，每个磁盘块的访问时间相同，考虑两个请求磁盘块任务均未到达，因为优先服务先到达的任务比优先服务后到达的任务等待时间更短，服务时间相同，推出平均周转时间更短，所以可以采用 FCFS（先来先服务）调度策略，直接按照 I/O 请求的先后顺序服务，这样平均周转时间最短。