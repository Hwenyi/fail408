---
publish: true
tags: 
aliases: 
finished: true
title: 题30
created: "2024-11-21 06:39"
updated: "2024-11-21 07:40"
---
## 题30
### 题目
> [!question]+
> 设文件索引节点中有 7 个地址项，其中 4 个地址项是直接地址索引，2 个地址项是一级间接地址索引，1 个地址项是二级间接地址索引，每个地址项大小为 4B，若磁盘索引块和磁盘数据块大小均为 256B，则可表示的单个文件最大长度是（ ）。
> 
> A. 33KB
> 
> B. 519KB
> 
> C. 1057KB
> 
> D. 16516KB
### 解
> [!done]+
> 磁盘索引块和磁盘数据块大小均为 256B，每个地址项大小为 4B，一个磁盘块能存放 256B/4B=64 个地址项。因为文件索引节点中有 7 个地址项，其中 4 个地址项是直接地址索引，2 个地址项是一级间接地址索引，1 个地址项是二级间接地址索引，所以单个文件最大长度 = $\rm (4+2\times64+1\times64^2)\times256B = 1057KB$ 。
> 
> 本题选 C。
> 
> **_总结_**
> 
> 设磁盘块大小 $x$ ，每个地址项大小为 $y$ ，文件采用混合索引，地址索引最大为 $k$ 级， $i$ 级地址索引数量为 $n_i$ ，直接地址索引视为 0 级索引，则文件最大长度为 $\begin{aligned}\sum_{i=0}^{k}n_i(\frac{x}{y})^ix\end{aligned}$ 。