---
publish: true
tags: 
aliases: 
finished: true
title: 题38
created: "2024-11-21 06:44"
updated: "2024-11-21 07:40"
---
## 题38
### 题目
> [!question]+
> 主机甲和主机乙已建立了 TCP 连接，甲始终以 MSS=1KB 大小的段发送数据，并一直有数据发送；乙每收到一个数据段都会发出一个接收窗口为 10KB 的确认段。若甲在 t 时刻发生超时时拥塞窗口为 8KB，则从 t 时刻起，不再发生超时的情况下，经过 10 个 RTT 后，甲的发送窗口是（ ）。
> 
> A. 10KB
> 
> B. 12KB
> 
> C. 14KB
> 
> D. 15KB
### 解
> [!done]+
> 发送方维持一个拥塞窗口 (congestion window, cwnd)，拥塞窗口的大小取决于网络的拥塞程度，并且动态地变化。发送方让自己的发送窗口等于拥塞窗口。
> 
> 发送方控制拥塞窗口的原则是：只要网络没有出现拥塞，拥塞窗口就再增大一些，以便把更多的分组发送出去。但只要网络出现拥塞，拥塞窗口就减小一些，以减少注入到网络中的分组数。
> 
> 最大报文段长度 (maximum segment size, MSS) 是 TCP 协议的一个选项，用于在 TCP 连接建立时，收发双方协商通信时每一个报文段所能承载的最大数据长度（不包括报文段头）。
> 
> **慢开始算法**
> 
> 开始时，将拥塞窗口设置为一个 MSS 的数值，每收到一个对新的报文段的确认后，把拥塞窗口增加至多一个 MSS 的数值。可以分析出，每经过一个传输轮次 (transmission round)，拥塞窗口大小加倍，逐渐增大到拥塞窗口的数值，一个传输轮次所经历的时间就是一个往返时间 RTT。
> 
> **拥塞避免算法**
> 
> 每经过一个往返时间将发送方的窗口加 1。只要发送方判断网络出现拥塞，就将慢开始门限 ssthresh 设置为出现拥塞时发送方窗口值的一半，然后执行慢开始算法。
> 
> 在本题中，在 cwnd = 8 MSS 时出现超时，发送方判断网络出现拥塞，就将慢开始门限 ssthresh 设置为 cwnd/2 = 4 MSS，然后执行慢开始算法。重新设置 cwnd = 1 MSS。
> 
> - 第一个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小的两倍，即调整 cwnd = 2 MSS。
> - 第二个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小的两倍，即调整 cwnd = 4 MSS。此时 cwnd 到达慢开始门限 ssthresh 值，转而是使用拥塞避免算法。
> - 第三个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 5 MSS。
> - 第四个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 6 MSS。
> - 第五个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 7 MSS。
> - 第六个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 8 MSS。
> - 第七个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 9 MSS。
> - 第八个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 10 MSS。
> - 第九个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 11 MSS。
> - 第十个 RTT 发送方得到肯定应答后，调整当前拥塞窗口大小为上一轮次拥塞窗口大小加 1，即调整 cwnd = 12 MSS。
> 
> 乙每收到一个数据段都会发出一个接收窗口为 10 KB 的确认段，即乙的接收窗口为 10 MSS。
> 
> 该过程示意图如下：
> 
> ![](https://pic1.zhimg.com/v2-467501a47e4ccf5f8659c371ed365a72_r.jpg)
> 
> 甲的发送窗口 = min {乙的接收窗口, 拥塞窗口} = min{10 MSS, 12 MSS} = 10 MSS = 10 KB。
> 
> 当然，本题可以无需计算拥塞窗口，甲的发送窗口不可能超过乙的接收窗口，即 10 KB，观察选项，只有选项 A 符合要求。
> 
> 本题选 A。