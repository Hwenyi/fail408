---
publish: true
tags: 
aliases: 
finished: true
title: 题37
created: "2024-11-21 07:20"
updated: "2024-11-21 07:40"
---
## 题37
### 题目
> [!question]+
> 若将 101.200.16.0/20 划分为 5 个子网，则可能的最小子网的可分配 IP 地址数是（ ）。
> 
> A. 126
> 
> B. 254
> 
> C. 510
> 
> D. 1022
### 解
> [!done]+
> 将 101.200.16.0/20 划分为 5 个子网，为了保证有子网的可分配 IP 地址数尽可能小，即要让其他子网的可分配 IP 地址数尽可能大，不能采用平均划分的方法，而要采用变长的子网划分方法。
> 
> 101.200.16.0/20 的网络号占 20 位，主机号占 32-20 = 12 位，将其后 16 位写成二进制形式，其中主机号的位用 x 表示，每个 x 可以取 0 或 1。二进制位用红色表示。得到 $\rm 101.200.\color{red}{0001xxxx}.\color{red}{xxxxxxxx}$ 。
> 
> 采用贪心策略。
> 
> 第一个子网空间大小为 $\rm 101.200.\color{red}{0001xxxx}.\color{red}{xxxxxxxx}$ 可分配子网空间的一半，假设将 $\rm 101.200.\color{red}{00010xxx}.\color{red}{xxxxxxxx}$ 分配给第一个子网，剩余 $\rm 101.200.\color{red}{00011xxx}.\color{red}{xxxxxxxx}$ 用来进行下面的划分。
> 
> 第二个子网空间大小为 $\rm 101.200.\color{red}{00011xxx}.\color{red}{xxxxxxxx}$ 可分配子网空间的一半，假设将 $\rm 101.200.\color{red}{000110xx}.\color{red}{xxxxxxxx}$ 分配给第二个子网，剩余 $\rm 101.200.\color{red}{000111xx}.\color{red}{xxxxxxxx}$ 用来进行下面的划分。
> 
> 第三个子网空间大小为 $\rm 101.200.\color{red}{000111xx}.\color{red}{xxxxxxxx}$ 可分配子网空间的一半，假设将 $\rm 101.200.\color{red}{0001110x}.\color{red}{xxxxxxxx}$ 分配给第三个子网，剩余 $\rm 101.200.\color{red}{0001111x}.\color{red}{xxxxxxxx}$ 用来进行下面的划分。
> 
> 第四个子网空间大小为 $\rm 101.200.\color{red}{0001111x}.\color{red}{xxxxxxxx}$ 可分配子网空间的一半，假设将 $\rm 101.200.\color{red}{00011110}.\color{red}{xxxxxxxx}$ 分配给第四个子网，剩余 $\rm 101.200.\color{red}{00011111}.\color{red}{xxxxxxxx}$ 用来进行下面的划分。
> 
> 由于除第五个子网外没有额外需要分配的子网，剩余 $\rm 101.200.\color{red}{00011111}.\color{red}{xxxxxxxx}$ 可全部分配给第五个子网，其主机号占 8 位，地址空间大小为 $2^8=256$ ，除去一个主机号位全 0 的网络号和一个主机号位全 1 的广播号，可分配 IP 地址数最多是 256-1-1=254。
> 
> 本题选 B。
> 
> **_总结_**
> 
> 若将网络 ${\rm{x.x.x.x}}/k$ 平均划分为 $m$ 个子网，则每个子网的可分配 IP 地址数最多是 $2^{32-k-\lceil \log_2 m\rceil}-2$ 。
> 
> 若将网络 ${\rm{x.x.x.x}}/k$ 划分为 $m$ 个子网，其中 $m\ge2$ ，则可能的最大子网的可分配 IP 地址数最多是 $2^{32-k-1}-2$ ，可能的最小子网的可分配 IP 地址数最多是 $2^{32-k-m+1}-2$ 。