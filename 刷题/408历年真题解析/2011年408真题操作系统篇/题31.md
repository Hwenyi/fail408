---
publish: true
tags: 
aliases: 
finished: true
title: 题31
created: "2024-11-21 06:40"
updated: "2024-11-21 07:40"
---
## 题31
### 题目
> [!question]+
> 某文件占 10 个磁盘块，现要把该文件磁盘块逐个读入主存缓冲区，并送用户区进行分析，假设一个缓冲区与一个磁盘块大小相同，把一个磁盘块读入缓冲区的时间为 100μs，将缓冲区的数据传送到用户区的时间是 50μs，CPU 对一块数据进行分析的时间为 50μs。在单缓冲区和双缓冲区结构下，读入并分析完该文件的时间分别是（ ）。
> 
> A. 1500μs、1000μs
> 
> B. 1550μs、1100μs
> 
> C. 1550μs、1550μs
> 
> D. 2000μs、2000μs
### 解
> [!done]+
> 设磁盘数据输入到缓冲区用时 T，缓冲区传送数据到工作区用时 M，CPU 处理数据用时 C。
> 
> ![](https://pica.zhimg.com/v2-6d5e9f0337628a27203bdafb897bdb4a_r.jpg)
> 
> **连续输入情况下**，[[单缓冲]]区处理每块数据用时 $\max\{C, T\} + M$ （C 和 T 并行）
> 
> [[单缓冲]]区仅处理 $n$ 块数据用时 $(n-1)(\max\{C, T\} + M)+T+M+C$ （中间 n-1 段包含 C 和 T 并行，第一个数据块的 T 和 M 以及最后一个数据块的 C 无法并行执行）。
> 
> **连续输入情况下**，[[双缓冲]]区处理每块数据用时 $\max\{C + M, T\}$ （C+M 和 T 并行执行）
> 
> [[双缓冲]]区仅处理 $n$ 块数据用时 $(n-1)\max\{C + M, T\}+T+M+C$ （中间 n-1 段包含 C+M 和 T 并行执行，第一个数据块的 T 和最后一个数据块的 M 和 C 无法并行执行）。
> 
> 本题中，T=100μs，M=50μs，C=50μs，n=10，代入公式得
> 
> 在单缓冲区读入并分析完该文件的时间是 1550μs。
> 
> 在双缓冲区读入并分析完该文件的时间是 1100μs。
> 
> 本题选 B。