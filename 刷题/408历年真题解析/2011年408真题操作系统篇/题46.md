---
publish: true
tags: 
aliases: 
finished: true
title: 题46
created: "2024-11-21 06:40"
updated: "2024-11-21 07:40"
---
## 题46
### 题目
> [!question]+
> （7 分）
> 
> 某文件系统为一级目录结构，文件的数据一次性写入磁盘，已写入的文件不可修改，但可多次创建新文件。请回答如下问题∶
> 
> (1) 在连续、链式、索引二种文件的数据块组织方式中。哪种更合适？要求说明理由。为定位文件数据块，需要在 FCB 中设计哪些相关描述字段？
> 
> (2) 为快速找到文件，对于 FCB，是集中存储好，还是与对应的文件数据块连续存储好？要求说明理由。
### 解
> [!done]+
> (1) 文件物理结构就是典型的数据结构的应用。
> 
> 连续结构可以视为数组，因为数组适合随机访问但插入删除慢，所以连续结构适合随机访问但不于文件扩展。
> 
> 链式结构可以视为链表，因为链表只能顺序访问但插入删除块，所以链式结构不适合随机访问但易于文件扩展。
> 
> 索引结构可以视为索引树，因为索引树适合随机访问但插入删除较快，所以索引结构适合随机访问且易于文件扩展。
> 
> FCB 是 File Control Block 的缩写，即文件控制块，是计算机文件系统中的一个数据结构，用于管理文件的元数据和访问权限。FCB 通常包含以下字段：
> 
> 1. 文件名：指定文件的名称和扩展名。
> 2. 文件类型：指定文件的类型，如文本文件、图像文件、音频文件等。
> 3. 文件大小：指定文件的大小，以字节为单位。
> 4. 创建时间：记录文件的创建时间和日期。
> 5. 修改时间：记录文件的最后修改时间和日期。
> 6. 访问时间：记录文件的最后访问时间和日期。
> 7. 文件权限：指定文件的访问权限，包括所有者权限、组权限和其他用户权限。
> 8. 所有者：记录文件的所有者。
> 9. 文件扩展属性：包含文件的额外属性信息，如版本号、作者等。
> 10. 文件数据块：存储文件的实际数据内容的指针或索引。
> 
> 第一问。连续更合适，因为一次写入不存在扩展问题，连续的数据块组织方式完全可以满足一次性写入磁盘。同时连续文件组织方式减少了其他不必要的空间开销，而连续的组织方式顺序查找时磁盘寻道时间最短，读取速度是最快的。
> 
> 第二问。为定位文件数据块，需要在 FCB 中设计的相关描述字段为起始块号和块数，或者起始块号和结束块号。类比数组在内存中的分布，需要知道起始元素地址和元素个数，或者起始元素地址和结束元素地址。
> 
> (2) 第一问 FCB 集中存储好。
> 
> 第二问。FCB 是存在磁盘上的。所以检索 FCB 的时候需要访问磁盘。所以访问磁盘次数越少越好，将 FCB 集中存储，最大化减少了存储 FCB 需要的磁盘块数量，这样在随机查找文件时，只需要访问 FCB 对应的磁盘块，最大化减少了磁头移动和磁盘 I/O 次数。