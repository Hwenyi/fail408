---
publish: true
tags: 
aliases: 
finished: true
title: 题17
created: "2024-11-21 06:42"
updated: "2024-11-21 07:40"
---
## 题17
### 题目
> [!question]+
> 假设某计算机按字编址，Cache 有 4 个行，Cache 和主存之间交换的块大小为 1 个字。若 Cache 的内容初始为空，采用 2 路组相联映射方式和 LRU 替换策略。访问的主存地址依次为 0,4,8,2,0,6,8,6,4,8 时，命中 Cache 的次数是（ ）。
> 
> A. 1
> 
> B. 2
> 
> C. 3
> 
> D. 4
### 解
> [!done]+
> 本题考察了 Cache 映射方式和替换策略。
> 
> Cache 有 4 个行，采用 2 路组相联映射方式，有 $4/2=2^1$ 组，组号占 1 位，因为计算机按字编址且块大小为 1 个字，所以主存地址低 1 位为组号，剩余高位为主存字块标记，这里主存地址最大为 $8=\underbrace{100}_{\text{主存字块标记}}\,\underbrace{0}_{\text{组号}}\,{\rm B}$
> 
> $\begin{array}{c|cccccccccc} \text{主存地址}&0&4&8&2&0&6&8&6&4&8\\ \text{主存地址二进制}&\text{0000B}&\text{0100B}&\text{1000B}&\text{0010B}&\text{0000B}&\text{0110B}&\text{1000B}&\text{0110B}&\text{0100B}&\text{1000B}\\ \text{组号}& 0 &0&0&0&0&0&0&0&0&0 \end{array}$
> 
> 所有元素都被映射到组 0，因为采用 2 路组相联映射，每组只有 2 行，组内采用全相联映射，置换算法为 LRU，模拟过程如下：
> 
> $\begin{array}{c|cccccccccc} \text{主存地址}&0&4&8&2&0&6&8&6&4&8\\\hline \text{组0行0} &0&0&8&8&0&0&8&8&4&4\\ \text{组0行1} &-&4&4&2&2&6&6&6&6&8\\\hline \text{组1行0} &-&-&-&-&-&-&-&-&-&-\\ \text{组1行1} &-&-&-&-&-&-&-&-&-&-\\\hline \text{是否命中}&\text{否}&\text{否}&\text{否}&\text{否}&\text{否}&\text{否}&\text{否}&\text{是}&\text{否}&\text{否}\\ \end{array}$
> 
> 命中次数为 1。
> 
> 本题选 A。
> 
> 注：本题答案有误，408 考研计算机组成原理部分以唐朔飞编著的《计算机组成原理》为准。
> 
> **_举一反三_**
> 
> 假设某计算机按字编址，Cache 有 4 个行，Cache 和主存之间交换的块大小为 1 个字。若 Cache 的内容初始为空，采用 2 路组相联映射方式和 FIFO 替换策略。访问的主存地址依次为 0,4,0,2,3,4,3,5,0,4 时，命中 Cache 的次数是（ ）。
> 
> 参考答案：3