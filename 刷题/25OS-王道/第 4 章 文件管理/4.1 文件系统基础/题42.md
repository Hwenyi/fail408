---
publish: true
aliases: 
tags:
  - 做错了
  - 操作系统
  - 真题
  - 地址
  - 硬盘
  - 文件
finished: true
created: 2024-07-23 06:28
updated: 2024-09-21 13:12
title: 题42
TARGET DECK: 刷题::25OS-王道::第 4 章 文件管理::4.1 文件系统基础::题42
---
## 题42
### 题目
Q:【2010 统考真题】设文件索引节点中有 7 个地址项, 其中 4 个地址项是直接地址索引, 2 个地址项是一级间接地址索引, 1 个地址项是二级间接地址索引, 每个地址项大小为4B, 若磁盘索引块和磁盘数据块大小均为256B, 则可表示的单个文件最大长度是 ( ) 。
A. ${33}\mathrm{{KB}}$ 
B. ${519}\mathrm{{KB}}$ 
C. ${1057}\mathrm{{KB}}$ 
D. ${16516}\mathrm{{KB}}$
### 分析
A:直接地址索引，也就是直接指向存记录的块
一级间接地址也就是这个指向一个地址表，这个地址也就是上面的直接地址索引
二级地址，就是直接存的是直接地址索引
也就是一共的大小是$256B\times7+4\times 2\times 256$
不对，这种问题的关键还是，明确一个数据块，也就是磁盘数据块的大小里面，可以放下多少个地址项，也就是指向一个索引表的表，或者说叫做，指针的指针
### 解
C
**每个磁盘索引块和磁盘数据块大小**均为 ${256}\mathrm{\;B}$ ,每个磁盘索引块有 ${256}/4 = {64}$ 个地址项。
因此, **4 个直接地址索引**指向的**数据块**大小为 $4 \times {256}\mathrm{\;B}$ ; 
2 个一级间接索引包含的**直接地址索引数**为 $2 \times ( {{256}/4})$ ,即其**指向的数据块大小**为 $2 \times ( {{256}/4}) \times {256}\mathrm{\;B}$ 。
1 个二级间接索引所包含的**直接地址索引数**为 $( {{256}/4}) \times ( {{256}/4})$ ,即其所指向的数据块大小为 $( {{256}/4}) \times ( {{256}/4}) \times {256}\mathrm{\;B}$ 。
因此,7 个地址项所指向的数据块总大小为 $4 \times {256} + 2 \times ( {{256}/4}) \times {256} + ( {{256}/4}) \times ( {{256}/4}) \times {256} = {1082368}\mathrm{\;B} = {1057}\mathrm{{KB}}$ 。
