---
publish: true
aliases: 
tags:
  - 犹豫
  - 文件
  - 硬盘
  - 操作系统
finished: true
created: 2024-07-23 06:28
updated: 2024-09-21 13:12
title: 题25
TARGET DECK: 刷题::25OS-王道::第 4 章 文件管理::4.1 文件系统基础::题25
---

## 题25
### 题目
Q:文件系统采用两级索引分配方式。若每个磁盘块的大小为 $1\mathrm{{KB}}$ ,每个盘块号占 $4\mathrm{\;B}$ ,则该系统中，单个文件的最大长度是 ( )。
A. ${64}\mathrm{{MB}}$ 
B. ${128}\mathrm{{MB}}$ 
C. ${32}\mathrm{{MB}}$ 
D. 以上都错误
### 分析
A:这里的盘块号应该就是索引表项号，而一个块就放一张表，也就决定了这个索引表里面能放多少个条目
两级索引的话，第一级可以放$\frac{1KB}{4B}=256$个链接，或者说指向指针的指针，第二级再放$256$个具体的位置，也就是
![](https://img.hwenyi.tech/202408212027691.webp)
若是文件能够采用两级索引，那么该文件最大长度可以达到`256*256*1KB`=65536KB=64MB。
### 解
A
每个磁盘块中最多有 $1\mathrm{{KB}}/4\mathrm{\;B} = {256}$ 个索引项,则两级索引分配方式下单个文件的最大长度为 ${256} \times {256} \times 1\mathrm{{KB}} = {64}\mathrm{{MB}}$ 。
