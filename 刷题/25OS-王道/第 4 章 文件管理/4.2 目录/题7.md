---
publish: true
aliases: 
tags: []
finished: true
created: "2024-07-23 06:32"
updated: "2024-09-21 13:12"
title: 题7
---
## 题7
### 题目
设文件 ${F1}$ 的当前引用计数为 1 , 先建立 ${F1}$ 的硬链接文件 ${F2}$ , 再建立 ${F1}$ 的符号链接文件 F3, 然后删除 F2, 则此时文件 F1、F3 的引用计数值分别是 ( )。
A. 1、1 
B. $1\text{、}2$ 
C. $1\text{、}0$ 
D. $2\text{、}2$
### 分析
什么是硬链接，什么是软链接
硬链接是同一份文件，但是不同的入口
![硬链接](https://img.hwenyi.tech/202407291547091.webp)
软链接是，某个文件的快捷方式，这个快捷方式本身就是一个LINK类型的文件，这个类型的文件里面只有被引用文件的路径
要注意，软链接本身的LINK文件，也是 一个文件，是有一个自己的索引节点的，所以有一个自己的Count值
![](https://img.hwenyi.tech/202408231547932.webp)
### 解
建立 $\mathrm{F}2$ 时, $\mathrm{F}1$ 和 $\mathrm{F}2$ 的引用计数值都变为 2 。
建立 $\mathrm{F}3$ 时,符号链接文件的引用计数值不受被链接文件的影响,始终为 1,故 $\mathrm{F}1$ 和 $\mathrm{F}3$ 的引用计数值为 2 和 1 。
删除 $\mathrm{F}2$ 时, $\mathrm{F}1$ 的引用计数值变为 $2 - 1 = 1,\mathrm{\;F}3$ 的引用计数值仍保持不变,因此 $\mathrm{F}1\text{、}\mathrm{\;F}3$ 的引用计数值分别是 $1\text{、}1$ 。